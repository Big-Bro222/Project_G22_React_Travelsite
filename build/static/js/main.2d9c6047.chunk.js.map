{"version":3,"sources":["imgs/01.jpg","imgs/02.jpg","Navbar/Navbar.js","Welcome/Welcome.js","Timeline/Timeline.js","apiUtility/apiUtility.js","ResultList/ResultList.js","actions.js","Search/Searchbar.js","Side/SideView.js","MapSearch/ClickEventHandler.js","MapSearch/MapApi.js","Search/Search.js","MapSearch/MapView.js","Details/DetailsItem.js","ViewSelection/ViewSelection.js","PrintoutView/PrintoutView.js","PlanView/PlanView.js","Firebase/FirebaseTool.js","auth.js","SignIn/SignIn.js","Signup/Signup.js","protected.route.js","reducer.js","ConfigureStore.js","store.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Navbar","state","top","react_default","a","createElement","affix","offsetTop","this","menu","mode","className","Item","style","float","tooltip","placement","title","icon","type","color","theme","Link","to","es_button","Component","Welcome","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","disabledStartDate","current","moment","endOf","disabledEndDate","endValue","startValue","valueOf","onChange","field","value","setState","defineProperty","onStartChange","onChangedeparture","_d","getTime","onEndChange","onChangereturn","console","log","toISOString","handleStartOpenChange","open","disabled","endOpen","handleEndOpenChange","getData","myUserId","firebase","auth","currentUser","uid","thisRef","assertThisInitialized","database","ref","once","then","snapshot","val","savedFlight","savedPoint","timeline","updateData","generateTimeLine","timeLinearr","departuredate","returndate","UI","Array","length","fill","changeView","startdate","enddate","datearray","i","formatdate","Date","slice","push","radioValue","_this2","_this$state","src_Navbar_Navbar","carousel","autoplay","alt","maxWidth","src","img01","img02","row","justify","align","col","span","date_picker","size","disabledDate","format","initialValue","onOpenChange","htmlType","onClick","ghost","connect","dispatch","_this3","payload","Timeline","previous","content","dates","map","entry","date","views","index","key","component","width","height","margin","react_horizontal_timeline_default","indexClick","timelineClick","values","styles","background","foreground","outline","lib_default","onChangeIndex","resistance","currentindex","timeConvert","n","hours","rhours","Math","floor","minutes","round","Panel","collapse","ResultList","saveFlight","e","flight","preventDefault","trigger","find","item","FlightId","newSaveFlight","toArray","concat","Itinerary","_this$props$posts","posts","Itineraries","Legs","Places","Carriers","flightInfomation","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","leg","Id","OutboundLegId","OriginStation","place","DestinationStation","carrier","price","PricingOptions","Price","assign","FlightNumbers","DisplayCode","FlightNumber","Name","Departure","Arrival","CarriersName","CarriersImg","ImageUrl","BookingLink","DeeplinkUrl","Duration","err","return","resultList","addHoverContent","shopHoverContent","card","hoverable","bodyStyle","padding","paddingLeft","xs","sm","md","lg","xl","avatar","popover","shape","href","target","rel","showArrow","header","REQUEST_POSTS","RECEIVE_POSTS","BASE_URL","BASE_URLGET","CONTENT_TYPE","Content-Type","API_KEY","X-RapidAPI-Key","sessionKeyRegex","fetchPosts","data","fetch","body","From","To","Time","headers","method","response","get","location","match","sessionLink","json","receivedAt","now","receivePosts","fetchPostsIfNeeded","getState","items","isFetching","shouldFetchPosts","Searchbars","getFormValue","form","getFieldsValue","handleSubmit","validateFields","onSearchSubmit","handleSwap","departure","arrvie","setFieldsValue","getFieldDecorator","es_form","onSubmit","rules","message","es_input","addonBefore","allowClear","placeholder","Searchbar","create","name","SubMenu","SideView","handleClick","newUI","changePlan","sidePointList","point","sideFlightList","selectedKeys","defaultOpenKeys","selectable","onTitleClick","Divider","ClickEventHandler","origin","event","placeId","infowindow","close","stop","currentId","getPlaceInformation","infowindowContent","display","place_noPlace","textContent","latLng","setPosition","me","placesService","getDetails","status","geometry","place_icon","photos","getUrl","place_name","types","place_type","international_phone_number","place_tel","opening_hours","place_openHour","weekday_text","rating","place_rate","place_address","formatted_address","alert","getCurrentId","google","maps","places","PlacesService","InfoWindow","pixelOffset","Size","document","getElementById","setContent","addListener","bind","MapApi","savePoint","newSavePoint","deletePoint","currentSavedPoint","React","createRef","searchInput","initAutocomplete","id","bordered","extra","headStyle","fontSize","position","cover","maxHeight","Map","center","lat","lng","zoom","mapTypeId","clickHandler","refs","infowindowcontent","placeicon","placename","placeaddress","placetype","placetel","placeopeningHour","placerate","input","searchBox","SearchBox","addButton","deleteButton","controls","ControlPosition","TOP_LEFT","setBounds","getBounds","markers","currentMarker","address","addEventListener","currentSave","marker","Marker","goldStar","setCurrentMarker","forEach","setMap","addSeletedMarkers","currentArray","findIndex","element","splice","deleteSavedPoint","path","fillColor","fillOpacity","scale","strokeColor","strokeWeight","panTo","getPosition","getPlaces","bounds","LatLngBounds","place_id","animation","Animation","DROP","viewport","union","extend","lastMarker","getAnimation","setAnimation","BOUNCE","fitBounds","placeMarker","Search","formData","_this$props","lastUpdated","src_Side_SideView","Search_Searchbar","src_ResultList_ResultList","lastTetchTime","_ref","mapView","MapSearch_MapApi","Meta","DetailsItem","hotel_name","hotel_description","rate","defaultValue","description","expandIcon","isActive","rotate","DetailsItem_Panel","ViewSelection","addPlan","src_Details_DetailsItem","src_Search_Search","MapView","PrintoutView","timeLinePrint","day","flightsPerDay","pointsPerDay","es_timeline","divider","page_header","onBack","subTitle","textAlign","PlanView","giveContent","len","Content","src_ViewSelection_ViewSelection","view","nextProps","mainView","currentView","src_Timeline_Timeline","src_PrintoutView_PrintoutView","es_alert","currentUID","Auth","authenticated","cb","updateState","newState","updates","update","onAuthStateChanged","user","userId","email","set","window","emailRegex","RegExp","formValid","formErrors","rest","objectWithoutProperties","valid","SignIn","password","signInWithEmailAndPassword","login","history","catch","errormessage","error","handleChange","_e$target","objectSpread","test","noValidate","htmlFor","Signup","createUserWithEmailAndPassword","firebaseuser","firstName","lastName","thepassword","validpassword","ProtectedRoute","Route","render","isAuthenticated","Redirect","pathname","from","initialstate","departureplace","Datereducer","arguments","action","loggerMiddleware","createLogger","preloadedState","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","App","es","Switch","exact","SignUp","protected_route_ProtectedRoute","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","BrowserRouter","src_App_0"],"mappings":"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","file":"static/js/main.2d9c6047.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/01.98377dca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/02.ab46828c.jpg\";","import React, { Component } from 'react';\nimport { Affix, Menu, Icon, Button, Tooltip } from 'antd';\nimport \"./Navbar.css\";\nimport { Link } from \"react-router-dom\";\n\nclass Navbar extends Component {\n    state = {\n        top: 0,\n    }\n    render() {\n        return (\n            <div>\n                <header>\n                    <Affix offsetTop={this.state.top}>\n                        <Menu mode=\"horizontal\" className=\"background\">\n                            <Menu.Item style={{ float: \"left\" }}>\n                            <Tooltip placement=\"bottomRight\" title={\"Made by ZY ZXY QZ LRZ with Love\"}>\n                                <Icon type=\"smile\" style={{ color: \"#ffffff\" }} theme=\"filled\" />\n                                </Tooltip>\n                            </Menu.Item>\n                            <Menu.Item style={{ float: \"right\" }}>\n                                <Tooltip placement=\"bottomLeft\" title={\"Click to sign out\"}>\n                                    <Link  to=\"/\">\n                                        <Button type=\"primary\" icon=\"logout\" />\n                                    </Link>\n                                </Tooltip>\n\n                            </Menu.Item>\n                        </Menu>\n                    </Affix>\n                </header>\n            </div>\n        );\n    }\n}\n\nexport default Navbar;","import React, {\n    Component\n} from \"react\";\nimport 'antd/dist/antd.css';\nimport {\n    Button, DatePicker, Row, Col, Carousel,\n} from 'antd';\nimport moment from \"moment\"\nimport './Welcome.css'\nimport Navbar from \"../Navbar/Navbar\"\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport img01 from \"../imgs/01.jpg\"\nimport img02 from \"../imgs/02.jpg\"\nimport firebase from 'firebase'\n// import {updateState,currentUID} from \"../Firebase/FirebaseTool\"\n\n\n\nclass Welcome extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            startValue: null,\n            endValue: null,\n            endOpen: false,\n            disabled: false,\n            radioValue: \"Return\",\n        }\n    }\n\n    disabledStartDate = (current) => {\n        return current && current < moment().endOf('day');\n    }\n\n    disabledEndDate = (endValue) => {\n        const startValue = this.state.startValue;\n        if (!endValue || !startValue) {\n            return false;\n        }\n        return endValue.valueOf() <= startValue.valueOf();\n    }\n\n    onChange = (field, value) => {\n        this.setState({\n            [field]: value,\n        });\n    }\n\n    onStartChange = (value) => {\n        this.onChange('startValue', value);\n        this.props.onChangedeparture(value._d.getTime());\n    }\n\n    onEndChange = (value) => {\n        this.onChange('endValue', value);\n        this.props.onChangereturn(value._d.getTime());\n        console.log(value._d.toISOString())\n    }\n\n    handleStartOpenChange = (open) => {\n        if (this.state.disabled !== true) {\n            if (!open) {\n                this.setState({ endOpen: true });\n            }\n        }\n    }\n\n    handleEndOpenChange = (open) => {\n        this.setState({ endOpen: open });\n    }\n\n    updateData(value)\n    {\n        this.props.getData(value);\n        this.props.changeView(\"printoutView\");\n    }\n    getData=()=>\n    {\n        var myUserId = firebase.auth().currentUser.uid;\n        var savedFlight;\n        var savedPoint;\n        var timeline;\n        var thisRef = this;\n        firebase.database().ref('user-state/' + myUserId+'/state').once('value').then(function(snapshot) \n        {\n            if(snapshot.val().savedFlight)\n            savedFlight=snapshot.val().savedFlight;\n            if(snapshot.val().savedPoint)\n            savedPoint=snapshot.val().savedPoint;\n            if(snapshot.val().timeline)\n            timeline=snapshot.val().timeline;\n            console.log(snapshot.val())\n            return thisRef.updateData(timeline=snapshot.val())\n\n        })\n    }\n\n    // changeView = (value) => {\n    //     // e.preventDefault();\n    \n    // this.props.changeView(value)\n    // }\n\n    // Use generateTimeLine to creat a default timeline and give the store state UI default values [\"Startview\",...]\n\n    generateTimeLine = () => {\n        var timeline = this.timeLinearr(this.props.departuredate, this.props.returndate)\n        var UI = Array(timeline.length).fill(\"Startview\")\n        var savedPoint = Array(timeline.length).fill([])\n        var savedFlight = Array(timeline.length).fill([])\n        this.props.generateTimeLine(timeline, UI, savedPoint, savedFlight);\n        this.props.changeView(\"timeline\");\n    }\n\n    timeLinearr = (startdate, enddate) => {\n        var datearray = [];\n        for (var i = startdate; i <= enddate; i = i + 60 * 60 * 24 * 1000) {\n            var ISO = new Date(i)\n            var formatdate = ISO.toISOString().slice(0, 10);\n            datearray.push(formatdate);\n        }\n        return datearray;\n    }\n\n    render() {\n        const { startValue, endValue, endOpen } = this.state;\n        console.log(this.props.departuredate)\n\n        return (\n            <div >\n                {/* <div>{this.props.departuredate + \"this.props.\" + this.props.returndate}</div> */}\n                <Navbar />\n                <Carousel autoplay>\n                    <div><img alt=\"1\" style={{ maxWidth: \"100%\" }} src={img01}></img></div>\n                    <div><img alt=\"2\" style={{ maxWidth: \"100%\" }} src={img02}></img></div>\n                </Carousel>\n\n                <div className=\"welcomeView\">\n                    <Row type=\"flex\" justify=\"start\" align=\"middle\">\n                        <Col span={3} className=\"typeCol\"><b className=\"typeStyle\">DEPART</b></Col>\n                        <Col span={8}>\n                            <DatePicker className=\"datePicker\"\n                                size=\"large\"\n                                disabledDate={this.disabledStartDate}\n                                format=\"DD-MM-YYYY\"\n                                initialValue={startValue}\n                                onChange={this.onStartChange}\n                                onOpenChange={this.handleStartOpenChange}\n                            />\n                        </Col>\n                        <Col span={2} className=\"typeCol\"><b className=\"typeStyle\">TO</b></Col>\n                        <Col span={8}  >\n                            <DatePicker className=\"datePicker\"\n                                size=\"large\"\n                                disabledDate={this.disabledEndDate}\n                                format=\"DD-MM-YYYY\"\n                                initialValue={endValue}\n                                onChange={this.onEndChange}\n                                open={endOpen}\n                                onOpenChange={this.handleEndOpenChange}\n                            />\n                        </Col>\n                    </Row>\n                    <Row type=\"flex\" justify=\"center\" align=\"middle\" className=\"buttonStyle\">\n                        <Col span={6}></Col>\n                        <Col span={12} ><Link to=\"/Planview\">\n                            <Button size=\"default\" type=\"primary\" htmlType=\"submit\" onClick={this.generateTimeLine}>Start New Plan</Button>\n                        </Link></Col>\n                        <Col span={6} align=\"left\">\n                            <Link to=\"/Planview\"><Button size=\"large\" onClick={() => { this.getData() }} type=\"primary\" ghost>My Previous Plan</Button></Link></Col>\n\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n\n    return {\n        departuredate: state.departuredate,\n        returndate: state.returndate,\n        timeline: state.timeline\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        onChangedeparture: (value) => {\n            const action = { type: \"ON_CHANGE_DEPARTURE\", payload: value };\n            dispatch(action);\n            (console.log(\"input\"))\n        },\n        onChangereturn: (value) => {\n            const action = { type: \"ON_CHANGE_RETURN\", payload: value };\n            dispatch(action);\n            (console.log(\"input2\"))\n        },\n        generateTimeLine: (timeline, UI, savedPoint, savedFlight) => {\n            console.log(this.props)\n            const action = {\n                type: \"GENERATE_TIME_LINE\",\n                timeline: timeline,\n                UI: UI,\n                savedPoint: savedPoint,\n                savedFlight: savedFlight\n\n\n            };\n            dispatch(action);\n        },\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n            (console.log(value))\n        },\n        getData: (value) => {\n            const action = {\n                type: \"GET_DATA\",payload:value\n                \n            };\n            dispatch(action);\n\n        }\n    }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Welcome)\n","import React, { Component } from 'react';\nimport HorizontalTimeline from \"react-horizontal-timeline\"\nimport SwipeableViews from 'react-swipeable-views';\nimport { connect } from \"react-redux\";\n\n\nclass Timeline extends Component {\n    constructor(props) {\n        super(props);\n\n    this.state = {\n        value: 0,\n        previous: 0,\n    \n        // Points: [\"2019-01-04\", \"2019-01-05\", \"2019-01-06\", \"2019-01-07\", \"2019-01-08\"]\n    };\n}\n\ncomponentWillMount() {\nif(this.props.content)\n    this.dates = this.props.content.map((entry) => entry.date);\n  }\n   \n    \n\n    render() {\n        if(this.props.content){\n        var views = this.props.content.map((entry, index) => {\n            return (\n              <div key={index}>\n                { entry.component }\n              </div>\n            );\n          });\n      \n          \n          \n        \n\n        return (\n            <div>\n                {/* Bounding box for the Timeline */}\n                {/* <div>issisisi</div> */}\n                <div style={{ width: '80%', height: '100px', margin: '0 auto' }}>\n                    <HorizontalTimeline\n                        index={this.state.value}\n                        indexClick={(index) => {\n                            console.log(index)\n                            \n                            this.setState({ value: index, previous: this.state.value });\n                            this.props.timelineClick(index);\n                        }}\n                        values={this.dates}\n                        styles={{ background: '#ffffff', foreground: '#40a9ff', outline: '#bae7ff' }} />\n                </div>\n                <div className='text-center'>\n                    {/* any arbitrary component can go here */}\n                    {/* {this.state.value} */}\n                    <SwipeableViews\n                        index={this.state.value}\n                        onChangeIndex={(value, previous) => {\n                            this.setState({ value: value, previous: previous });\n                        }}\n                        resistance>\n                        {views}\n                    </SwipeableViews>\n                    \n                    {/* <PlanItemView /> */}\n\n                </div>\n            </div>\n        );\n                    }\n                    else\n                    return(<div></div>)\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        currentindex:state.currentindex,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        timelineClick: (value) => {\n            const action = { type: \"TIMELINE_CLICK\", payload: value };\n            dispatch(action);\n        }\n\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Timeline)\n","\r\n\r\nexport function timeConvert(n) {\r\n    var num = n;\r\n    var hours = (num / 60);\r\n    var rhours = Math.floor(hours);\r\n    var minutes = (hours - rhours) * 60;\r\n    var rminutes = Math.round(minutes);\r\n    return rhours + \" hour(s) and \" + rminutes + \" minute(s)\";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\nimport { Avatar, Row, Col, Card, Button, Popover, Icon, Divider, Collapse } from 'antd';\nimport \"./ResultList.css\"\nimport { timeConvert } from \"../apiUtility/apiUtility\"\nimport { connect } from 'react-redux'\n\n\nconst Panel = Collapse.Panel;\nclass ResultList extends Component {\n    state = {\n    }\n    constructor(props) {\n        super(props);\n\n        this.savedFlight = [];\n\n    }\n    saveFlight = (e, flight) => {\n        e.preventDefault();\n        // this.savedFlight.push(flight);\n\n        var trigger = true;\n        console.log(this.savedFlight.length)\n        if (this.savedFlight.length <= 0) { trigger = true; }\n        else {\n            trigger = false;\n        }\n        if (this.props.savedFlight[this.props.currentindex].find(item => item.FlightId === flight.FlightId)) {\n\n        }\n        else {\n            this.savedFlight.push(flight);\n        }\n\n\n        var index = this.props.currentindex\n        var [...newSaveFlight] = this.props.savedFlight;\n\n\n        if (trigger) { newSaveFlight[index] = newSaveFlight[index].concat(this.savedFlight); }\n        else { newSaveFlight[index] = this.savedFlight; }\n\n\n        this.props.saveFlight(newSaveFlight)\n        //this.setState({UI:this.props.UI})\n    }\n    render() {\n        console.log(\"list\")\n\n        const { Itineraries, Legs, Places, Carriers } = this.props.posts;\n        var flightInfomation = [];\n        let Itinerary;\n        for (Itinerary of Itineraries) {\n            var leg = Legs.find(leg => leg.Id == Itinerary.OutboundLegId);\n            var OriginStation = Places.find(place => place.Id == leg.OriginStation);\n            var DestinationStation = Places.find(place => place.Id == leg.DestinationStation);\n            var carrier = Carriers.find(carrier => carrier.Id == leg.Carriers[0]);\n            var price = Itinerary.PricingOptions[0].Price;\n\n            flightInfomation.push(Object.assign({},\n                {\n                    \"FlightId\": Itinerary.OutboundLegId,\n                    \"FlightNumbers\": carrier.DisplayCode + leg.FlightNumbers[0].FlightNumber,\n                    \"OriginStation\": OriginStation.Name,\n                    \"DestinationStation\": DestinationStation.Name,\n                    \"Departure\": leg.Departure,\n                    \"Arrival\": leg.Arrival,\n                    \"CarriersName\": carrier.Name,\n                    \"CarriersImg\": carrier.ImageUrl,\n                    \"price\": price,\n                    \"BookingLink\": Itinerary.PricingOptions[0].DeeplinkUrl,\n                    \"Duration\": timeConvert(leg.Duration)\n                }\n            ))\n        }\n\n        const addHoverContent = (\n            <div>\n                Add to your plan\n            </div>\n        );\n        const shopHoverContent = (\n            <div>\n                Go To The Flight Website\n            </div>\n        );\n\n        let resultList = null\n\n\n\n        resultList = flightInfomation.map((flight, i) => (\n\n\n            <Card key={i} className=\"listStyle\" hoverable bodyStyle={{ padding: \"0px\", paddingLeft: 20 }} >\n                <Row type=\"flex\" align=\"middle\">\n                    <Col xs={13} sm={12} md={2} lg={2} xl={2}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <Avatar alt=\"airline\" src={flight.CarriersImg} />\n                        </Row>\n                    </Col>\n                    <Col xs={11} sm={12} md={5} lg={4} xl={3}>\n                        <Row type=\"flex\" justify=\"start\" className=\"airLineStyle\">\n                            <h2 className=\"airLineStyle\">{flight.CarriersName}</h2>\n                        </Row>\n                        <Row type=\"flex\" justify=\"start\" >\n                            {flight.FlightNumbers}\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={12} md={6} lg={5} xl={5}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <b >{flight.Departure}</b>\n                        </Row>\n                        <Row type=\"flex\" justify=\"start\" >\n                            <b>{flight.OriginStation}</b>\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={12} md={5} lg={3} xl={5}>\n                        <br></br>\n                        <Row type=\"flex\" justify=\"start\">\n                            {flight.Duration}\n                        </Row>\n                        <br></br>\n\n\n                    </Col>\n\n                    <Col xs={24} sm={12} md={6} lg={5} xl={5}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <b >{flight.Arrival}</b>\n                        </Row>\n                        <Row type=\"flex\" justify=\"start\">\n                            <b>{flight.DestinationStation}</b>\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={12} md={20} lg={3} xl={2}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <b className=\"priceStyle\"> ${flight.price} </b>\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={12} md={4} lg={2} xl={2} >\n                        <Row type=\"flex\" justify=\"center\">\n                            <Popover style={{ width: 500 }} content={addHoverContent}>\n\n                                <Button onClick={(e) => this.saveFlight(e, flight)} size=\"large\" type=\"primary\" shape=\"circle\" icon=\"plus\" />\n\n                            </Popover>\n                            <Popover style={{ width: 500 }} content={shopHoverContent}>\n                                <a href={flight.BookingLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <Icon type=\"shopping\" /><Icon type=\"double-right\" size=\"big\" />\n                                </a>\n                            </Popover>\n                        </Row>\n                    </Col>\n                </Row>\n            </Card>\n\n\n        ))\n\n\n\n        return (\n\n\n            <Panel showArrow={false} header={resultList} key=\"1\" className=\"customPanelStyle\">\n            </Panel>\n\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    const { savedFlight, currentindex } = state\n\n    return {\n        savedFlight,\n        currentindex\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        saveFlight: (value) => {\n            const action = { type: \"SAVE_FLIGHT\", payload: value };\n            dispatch(action);\n            // (console.log(value))\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultList);\n","import fetch from 'cross-fetch'\r\n\r\nexport const REQUEST_POSTS = 'REQUEST_POSTS'\r\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS'\r\n// export const SELECT_SUBREDDIT = 'SELECT_SUBREDDIT'\r\n// export const INVALIDATE_SUBREDDIT = 'INVALIDATE_SUBREDDIT'\r\n\r\nconst BASE_URL = \"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/v1.0\";\r\nconst BASE_URLGET = \"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/uk2/v1.0/\"\r\nconst CONTENT_TYPE = {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n}\r\nconst API_KEY = {\r\n    \"X-RapidAPI-Key\": \"4d7d4ff10fmsh4314efafb601609p1e0648jsn8658273cf3f9\"\r\n};\r\nconst sessionKeyRegex = /v1.0\\/(.*)/;\r\n\r\n// export function selectSubreddit(subreddit) {\r\n//   return {\r\n//     type: SELECT_SUBREDDIT,\r\n//     subreddit\r\n//   }\r\n// }\r\n\r\n// export function invalidateSubreddit(subreddit) {\r\n//   return {\r\n//     type: INVALIDATE_SUBREDDIT,\r\n//     subreddit\r\n//   }\r\n// }\r\n\r\n// begin to fetch data\r\nfunction requestPosts() {\r\n    return {\r\n        type: REQUEST_POSTS,\r\n    }\r\n}\r\n\r\n//achieve data fetching\r\nfunction receivePosts(json) {\r\n    return {\r\n        type: RECEIVE_POSTS,\r\n        posts: json,\r\n        receivedAt: Date.now()\r\n    }\r\n}\r\n\r\n\r\n// Use fetchCreatSession to get a session link to browser the live flight price data.\r\n\r\nfunction fetchPosts(data) {\r\n    console.log(\"fetch begin\");\r\n    return dispatch => {\r\n        console.log(\"fetch begin\");\r\n        dispatch(requestPosts())\r\n        return fetch(BASE_URL, {\r\n            body: \"cabinClass=economy&children=0&infants=0&country=US&currency=USD&locale=en-US&originPlace=\"+data.From+\"-sky&destinationPlace=\"+data.To+\"-sky&outboundDate=\"+data.Time+\"&adults=1\",\r\n            headers: Object.assign({}, CONTENT_TYPE, API_KEY),\r\n            method: \"POST\"\r\n        })\r\n\r\n            .then(response =>\r\n                // console.log(\"@@\" + response.headers.get('location'));\r\n                response.headers.get('location')\r\n            )\r\n\r\n            .then(location => location.match(sessionKeyRegex)[1])\r\n\r\n            .then(sessionLink => {\r\n                console.log(\"sessionLink\" + sessionLink);\r\n                return fetch(`${BASE_URLGET}${sessionLink}?sortType=price&sortOrder=asc&pageIndex=0&pageSize=10`,\r\n                    {\r\n                        headers: Object.assign({}, API_KEY)\r\n                    })\r\n            })\r\n\r\n            .then(response => response.json()\r\n            )\r\n\r\n            .then(json => {\r\n                console.log(json);\r\n                dispatch(receivePosts(json));\r\n            })\r\n    }\r\n}\r\n\r\n//judge whether to fetch data or not\r\nfunction shouldFetchPosts(state) {\r\n    const posts = state.items\r\n    console.log(!posts)\r\n    // if (!posts) {\r\n    //     return true\r\n    // } else if (posts.isFetching) {\r\n    //     return false\r\n    // }\r\n    if(!posts.isFetching)\r\n    return true;\r\n    else\r\n    return false;\r\n    //   else {\r\n    //     return posts.didInvalidate\r\n    //   }\r\n}\r\n\r\nexport function fetchPostsIfNeeded(data) {\r\n    console.log(\"ifif\")\r\n    return (dispatch, getState) => {\r\n        if (shouldFetchPosts(getState())) {\r\n            data.Time=getState().timeline[getState().currentindex]\r\n            console.log(\"begintofetch\");\r\n            return dispatch(fetchPosts(data))\r\n            \r\n        }\r\n    }\r\n}","\nimport React, { Component } from \"react\";\nimport {\n    Form, Input, Button, Row, Col, Select,\n} from 'antd';\nimport './Search.css'\nimport { connect } from 'react-redux'\nimport {\n    fetchPostsIfNeeded\n} from '../actions'\n\n// const Option = Select.Option;\nclass Searchbars extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        }\n    }\n\n    getFormValue = () => {\n        var formData = this.props.form.getFieldsValue();\n        return formData;\n\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                console.log('Received values of form: ', values);\n                this.props.onSearchSubmit(values)\n\n            }\n\n            //   console.log('Received values of form: ',  this.getFormValue());\n\n        });\n    }\n\n    handleSwap=(e)=>\n    {\n        e.preventDefault();\n        var departure = this.getFormValue('From').From;\n        var arrvie = this.getFormValue('To').To;\n        if(departure&&arrvie)\n        this.props.form.setFieldsValue({To:departure,});\n        this.props.form.setFieldsValue({From:arrvie, });\n\n        // this.props.form.setFieldsValue({\n        //     note: `Hi, ${value === 'male' ? 'man' : 'lady'}!`,\n        //   });\n\n      \n    }\n\n\n    render() {\n        // const { onSearchSubmit } = this.props;\n        const { getFieldDecorator } = this.props.form;\n        return (\n                <Form   onSubmit={this.handleSubmit}>\n                <Row style={{width:\"100%\"}}>\n                    <Col xs={22} sm={18} md={21} lg={20} xl={10} >\n                        <Row >\n                            <Form.Item >\n                                {getFieldDecorator('From', { rules: [{ message: 'Please input your starting points', }], })(\n                                    <Input addonBefore=\"From\" size=\"large\" allowClear placeholder=\"Input IATA code,eg. ARN for Arlanda airport\" style={{ width: \"85%\" }} />)}\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                    <Col xs={2} sm={4} md={2} lg={4} xl={1}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <Form.Item>\n                                <Button shape=\"round\" icon=\"swap\" size=\"large\" onClick={(e)=>this.handleSwap(e)}></Button>\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                    <Col xs={22} sm={18} md={21} lg={20} xl={10} >\n                        <Row >\n                            <Form.Item >\n                                {getFieldDecorator('To', { rules: [{ message: 'Please input your destination', }], })(\n                                    <Input addonBefore=\"To\" size=\"large\" allowClear placeholder=\"Input IATA code,eg. LAX for LosAngeles airport\" style={{ width: \"85%\" }} />)}\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={6} md={24} lg={24} xl={3} >\n                        <Row  >\n                            <Form.Item >\n                                <Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon=\"right-circle\" >Submit</Button>\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                </Row>\n            </Form>\n        );\n    }\n}\nconst Searchbar = Form.create({ name: 'ClassPeople' })(Searchbars);\n\n\nconst mapDispatchToProps = (dispatch) => ({\n    onSearchSubmit: (data) => dispatch(fetchPostsIfNeeded(data))\n})\nconst mapStateToProps=()=>({});\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Searchbar)\n\n\n// export default Searchbar\n\n\n\n\n","import React, { Component } from 'react';\nimport { Menu, Icon } from 'antd';\nimport \"./SideView.css\"\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {\n    Button\n} from 'antd';\n\nconst SubMenu = Menu.SubMenu;\n\nclass SideView extends Component {\n    // rootSubmenuKeys = ['sub1', 'sub2'];\n    state = {\n        // openKeys: ['sub1'],\n    }\n\n    // onOpenChange = (openKeys) => {\n    //     const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n    //     if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n    //       this.setState({ openKeys });\n    //     } else {\n    //       this.setState({\n    //         openKeys: latestOpenKey ? [latestOpenKey] : [],\n    //       });\n    //     }\n    //   }\n\n    handleClick = (e) => {\n\n        var index = this.props.currentindex\n        //Notice: here to use [...] to deep copy the array;\n        var [...newUI] = this.props.UI\n        if (newUI[index] !== \"Startview\") {\n\n            switch (e.key) {\n                case \"sub1\":\n\n                    newUI[index] = \"Search\"\n                    this.props.changePlan(newUI)\n                    //this.setState({ UI: this.props.UI })\n                    // console.log(newUI)\n                    // console.log(this.props.UI)\n                    break;\n                case \"sub2\":\n                    newUI[index] = \"Map\"\n                    this.props.changePlan(newUI)\n                    //this.setState({ UI: this.props.UI })\n                    // console.log(newUI)\n                    // console.log(this.props.UI)\n                    break;\n                case \"sub3\":\n                    this.props.changeView(\"printoutView\")\n                    break;\n                default:\n                    console.log(newUI)\n                    console.log(this.props.UI)\n\n            }\n\n        }\n    }\n    render() {\n        var sidePointList = this.props.savedPoint[this.props.currentindex].map((point, i) => {\n            return (<Menu.Item disabled key={i}>{point.title}</Menu.Item>)\n        });\n\n        var sideFlightList = this.props.savedFlight[this.props.currentindex].map((flight, i) => {\n            return (<Menu.Item disabled key={i}>{flight.CarriersName + \"  \" + flight.FlightNumbers}</Menu.Item>)\n        });\n\n        return (\n            <Menu\n                // openKeys={['sub1','sub2']}\n                selectedKeys={['sub1']}\n                defaultOpenKeys={['sub1']}\n                selectable={true}\n                mode=\"inline\"\n            >\n                <SubMenu key=\"sub1\" onTitleClick={this.handleClick} title={<span><Icon type=\"rocket\" /><span>Add Flight Tickets</span></span>}>\n                    <Menu.Divider style={{ margin: \"0\" }}></Menu.Divider>\n                    {sideFlightList}\n                </SubMenu>\n\n                <SubMenu key=\"sub2\" onTitleClick={this.handleClick} title={<span><Icon type=\"environment\" /><span>Mark Spot in Map</span></span>}>\n                    <Menu.Divider style={{ margin: \"0\" }}></Menu.Divider>\n                    {sidePointList}\n                </SubMenu>\n\n                <SubMenu key=\"sub3\" onTitleClick={this.handleClick} title={<span><Icon type=\"export\" /><span>Save my plan</span></span>}>\n                    <Menu.Divider style={{ margin: \"0\" }}></Menu.Divider>\n                </SubMenu>\n\n\n\n\n\n\n            </Menu>\n\n\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        timeline: state.timeline,\n        currentindex: state.currentindex,\n        UI: state.UI,\n        savedPoint: state.savedPoint,\n        savedFlight: state.savedFlight\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        changePlan: (value) => {\n            const action = { type: \"CHANGE_PLAN\", payload: value };\n            dispatch(action);\n            (console.log(value))\n        },\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n            (console.log(value))\n        }\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(SideView)\n","/* global google */\r\n\r\n\r\nclass ClickEventHandler {\r\n  constructor(map, origin) {\r\n    this.origin = origin;\r\n    this.map = map;\r\n    this.placesService = new google.maps.places.PlacesService(map);\r\n    this.infowindow = new google.maps.InfoWindow({\r\n      maxWidth: 600,\r\n      pixelOffset: new google.maps.Size(0, -40)\r\n    });\r\n    this.infowindowContent = '';\r\n    this.place_icon = '';\r\n    this.place_name = '';\r\n    this.place_address = '';\r\n    this.place_type = '';\r\n    this.place_tel ='';\r\n    this.place_openHour = '';\r\n    this.place_noPlace = document.getElementById(\"place-noPlace\");\r\n    this.place_rate = '';\r\n    this.infowindow.setContent(this.place_noPlace);\r\n\r\n\r\n    this.currentId = 0;\r\n\r\n\r\n    // Listen for clicks on the map.\r\n    this.map.addListener('click', this.handleClick.bind(this));\r\n  }\r\n\r\n  handleClick = function (event) {\r\n    // console.log('You clicked on: ' + event.latLng);\r\n    // If the event has a placeId, use it.\r\n    if (event.placeId) {\r\n      // console.log('You clicked on place:' + event.placeId);\r\n      this.infowindow.close();\r\n      // Calling e.stop() on the event prevents the default info window from\r\n      // showing.\r\n      // If you call stop here when there is no placeId you will prevent some\r\n      // other map click event handlers from receiving the event.\r\n      event.stop();\r\n      this.currentId = event.placeId;\r\n      this.getPlaceInformation(event.placeId);\r\n\r\n    } else {\r\n      this.infowindowContent.style.display = 'none';\r\n      // console.log(this.place_noPlace.textContent);\r\n      this.place_noPlace.textContent = \"Not a point of Interest \" + event.latLng;\r\n      this.infowindow.open(this.map);\r\n      this.currentId = 0;\r\n      this.infowindow.setPosition(event.latLng);\r\n    }\r\n  }\r\n\r\n  getPlaceInformation = function (placeId) {\r\n    var me = this;\r\n    this.placesService.getDetails({ placeId: placeId }, function (place, status) {\r\n      if (status === 'OK') {\r\n        me.infowindow.close();\r\n        me.infowindow.setPosition(place.geometry.location);\r\n        me.infowindowContent.style.display = 'inline';\r\n        me.place_icon.style.display = 'inline';\r\n        if (place.photos == null) {\r\n          me.place_icon.src ='https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg';\r\n        }else{\r\n           me.place_icon.src = place.photos[0].getUrl();\r\n        }\r\n        me.place_name.textContent = place.name;\r\n        if (place.types == null) {\r\n          me.place_type.textContent = 'No information available';\r\n\r\n        } else {\r\n          me.place_type.textContent = place.types;\r\n        }\r\n\r\n        if (place.international_phone_number == null) {\r\n          me.place_tel.textContent = 'No information available';\r\n        } else {\r\n          me.place_tel.textContent = place.international_phone_number;\r\n        }\r\n        console.log(place.opening_hours);\r\n        if (place.opening_hours == null) {\r\n          me.place_openHour.textContent = 'No information available';\r\n        } else {\r\n          me.place_openHour.textContent = place.opening_hours.weekday_text;\r\n\r\n        }\r\n\r\n        if (place.rating === null) {\r\n          me.place_rate.textContent = 'No information available';\r\n        } else {\r\n          me.place_rate.textContent = 'Rate: ' + place.rating + '/5.0';\r\n        }\r\n        // console.log(me.place_rate);\r\n        // console.log(place.rating);\r\n        // me.place_rate.value = place.rating;\r\n\r\n\r\n        me.place_address.textContent = place.formatted_address;\r\n      } else {\r\n        alert(status);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  getCurrentId = function () {\r\n    return this.currentId;\r\n  }\r\n\r\n}\r\n\r\nexport default ClickEventHandler;","import React, { Component } from 'react';\r\nimport { Input, Card, Row, Col,Avatar } from 'antd';\r\nimport \"./MapSearch.css\";\r\nimport { connect } from 'react-redux'\r\nimport ClickEventHandler from \"./ClickEventHandler\"\r\n\r\n/* global google */\r\nclass MapApi extends Component {\r\n  state = {\r\n  }\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.map = React.createRef();\r\n    this.searchInput = React.createRef();\r\n    this.savedPoint = [];\r\n\r\n  }\r\n\r\n  savePoint = (e) => {\r\n    var trigger = true;\r\n    if (this.savedPoint.length < 1) { trigger = true; }\r\n    else {\r\n      trigger = false;\r\n    }\r\n    var index = this.props.currentindex;\r\n    var [...newSavePoint] = this.props.savedPoint;\r\n\r\n    if (trigger) { newSavePoint[index] = newSavePoint[index].concat(this.savedPoint); }\r\n    else { newSavePoint[index] = this.savedPoint; }\r\n\r\n\r\n    this.props.savePoint(newSavePoint)\r\n    console.log(this.savedPoint)\r\n    //this.setState({UI:this.props.UI})\r\n\r\n  }\r\n\r\n  deletePoint = () =>{\r\n\r\n    console.log(\"delete\")\r\n    var [...currentSavedPoint] = this.props.savedPoint;\r\n    var index = this.props.currentindex;\r\n\r\n    currentSavedPoint[index]= this.savedPoint;\r\n    this.props.deletePoint(currentSavedPoint);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.initAutocomplete();\r\n\r\n\r\n  }\r\n  componentWillMount() {\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col xs={24} sm={6} md={24} lg={10} xl={10} >\r\n            <Input ref={this.searchInput}\r\n              id=\"pac-input\"\r\n              className=\"controls\"\r\n              size=\"large\"\r\n              type=\"text\"\r\n              placeholder='Try to search \"attractions\"'\r\n            />\r\n          </Col>\r\n          {/* <Col >\r\n            <button ref=\"addButton\" type=\"button\" onClick={this.savePoint}>Add to my plan</button>\r\n          </Col> */}\r\n        </Row>\r\n        <Row >\r\n          <Col xs={24} sm={6} md={24} lg={18} xl={18} >\r\n            <div ref={this.map} id=\"map\"></div>\r\n\r\n          </Col>\r\n          <Col xs={24} sm={6} md={24} lg={6} xl={6}>\r\n          <div className=\"infoView\" ref=\"infowindowcontent\" display =\"none\" >\r\n                        <Card\r\n                            bordered = {true}\r\n                            extra={<button className=\"ant-btn ant-btn-primary ant-btn-lg ant-btn-background-ghost\" disabled={false} ref=\"addButton\" onClick={this.savePoint} >Add</button>}\r\n                            //Place Name\r\n                            title={<span ref=\"placename\"></span>}\r\n                            headStyle={{ padding: \"0px\", fontSize: \"25px\", position:\"sticky\"}}\r\n                            bodyStyle={{ padding: \"0px\" }}\r\n                            size=\"small\"\r\n                            className=\"cardStyle\"\r\n                            //Place Image\r\n                            cover={<img ref=\"placeicon\" src=\"\" style ={{maxHeight:'270px'}} />}\r\n                        >\r\n\r\n                            <div className=\"colorDiv\" >\r\n                            <p className=\"h4Style\" ref = \"placerate\"></p>\r\n                                <h5 className=\"h4Style\" ref = \"placetype\"> </h5>\r\n                            </div>\r\n                            <div className=\"div2Style\" >\r\n                            <Row className=\"rowStyle\">\r\n                                <Col span={4}>\r\n                                <Avatar size=\"small\" icon=\"environment\" className=\"avatarStyle\" />  </Col>\r\n                                <Col span = {20}>\r\n                                <div ref=\"placeaddress\"></div>\r\n                                </Col>\r\n                                </Row>\r\n                                <Row className=\"rowStyle\">\r\n                                <Col span={4}>\r\n                                <Avatar size=\"small\" icon=\"phone\" className=\"avatarStyle\" />  </Col>\r\n                                <Col span = {20}>\r\n                                <div ref=\"placetel\"></div>\r\n                                </Col>\r\n                                </Row>\r\n                                <Row className=\"rowStyle\">\r\n                                <Col span={4}>\r\n                                <Avatar size=\"small\" icon=\"calendar\" className=\"avatarStyle\" />  </Col>\r\n                                <Col span = {20}>\r\n                                <div ref=\"placeopeningHour\" className=\"openHours\"></div>\r\n                                </Col>\r\n                               \r\n                                \r\n                            </Row>\r\n                               \r\n                            </div>\r\n                          <button className=\"ant-btn ant-btn-block\" disabled={true} ref=\"deleteButton\" > Delete from my plan </button>\r\n                        </Card>\r\n\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <span id=\"place-noPlace\"></span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  initAutocomplete() {\r\n    var thisRef = this;\r\n    var map = new google.maps.Map(this.map.current, {\r\n      center: { lat: 59.325, lng: 18.070 },\r\n      zoom: 12,\r\n      mapTypeId: 'roadmap',\r\n      // clickableIcons: false\r\n    });\r\n\r\n    var clickHandler = new ClickEventHandler(map, { lat: 59.325, lng: 18.070 });\r\n    \r\n    clickHandler.infowindowContent = this.refs.infowindowcontent;\r\n    clickHandler.infowindowContent.style.display =\"none\";\r\n    clickHandler.place_icon = this.refs.placeicon;\r\n    clickHandler.place_name = this.refs.placename;\r\n    clickHandler.place_address = this.refs.placeaddress;\r\n    clickHandler.place_type = this.refs.placetype;\r\n    clickHandler.place_tel = this.refs.placetel;\r\n    clickHandler.place_openHour = this.refs.placeopeningHour;\r\n    clickHandler.place_rate = this.refs.placerate;\r\n \r\n\r\n    // Create the search box and link it to the UI element.\r\n    var input = this.searchInput.current.input;\r\n    var searchBox = new google.maps.places.SearchBox(input);\r\n    var addButton = this.refs.addButton;\r\n    var deleteButton = this.refs.deleteButton;\r\n  \r\n\r\n    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n\r\n\r\n    // Bias the SearchBox results towards current map's viewport.\r\n    map.addListener('bounds_changed', function () {\r\n      searchBox.setBounds(map.getBounds());\r\n    });\r\n\r\n    var markers = [];\r\n    var currentMarker = {\r\n      id: 0,\r\n      title: 'unknow01',\r\n      address: 'unkown Places01'\r\n    };\r\n    // var infoWindow = new google.maps.InfoWindow({\r\n    //   content: \"testing\",\r\n    //   maxWidth: 600\r\n    // });\r\n\r\n\r\n    //place service\r\n    var service = new google.maps.places.PlacesService(map);\r\n    // var geocoder = new google.maps.Geocoder();\r\n    addButton.addEventListener('click', function (e) {\r\n      addSeletedMarkers();\r\n      e.preventDefault();\r\n\r\n    });\r\n\r\n    deleteButton.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n      deleteSavedPoint(currentMarker);\r\n      \r\n    })\r\n\r\n    //style for saved marker  use as icon:goldstar\r\n    var goldStar = {\r\n      path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',\r\n      fillColor: 'yellow',\r\n      fillOpacity: 0.8,\r\n      scale: 0.05,\r\n      strokeColor: 'gold',\r\n      strokeWeight: 14\r\n    };\r\n\r\n    // Listen for the event fired when the user selects a prediction and retrieve\r\n    // more details for that place.\r\n    searchBox.addListener('places_changed', function () {\r\n      var places = searchBox.getPlaces();\r\n\r\n      if (places.length === 0) {\r\n        return;\r\n      }\r\n\r\n      // Clear out the old markers.\r\n      markers.forEach(function (marker) {\r\n        marker.setMap(null);\r\n      });\r\n      markers = [];\r\n\r\n      // For each place, get the icon, name and location.\r\n      var bounds = new google.maps.LatLngBounds();\r\n      places.forEach(function (place) {\r\n        if (!place.geometry) {\r\n          console.log(\"Returned place contains no geometry\");\r\n          return;\r\n        }\r\n\r\n        // Create a marker for each place.\r\n        markers.push(new google.maps.Marker({\r\n          map: map,\r\n          id: place.place_id,\r\n          title: place.name,\r\n          address: place.formatted_address,\r\n          animation: google.maps.Animation.DROP,\r\n          position: place.geometry.location\r\n        }));\r\n\r\n        if (place.geometry.viewport) {\r\n          // Only geocodes have viewport.\r\n          bounds.union(place.geometry.viewport);\r\n        } else {\r\n          bounds.extend(place.geometry.location);\r\n        }\r\n\r\n        var lastMarker = markers[markers.length - 1];\r\n        lastMarker.addListener('click', function (event) {\r\n          toggleBounce(lastMarker);\r\n          setCurrentMarker(lastMarker);\r\n          // openInfowindow(lastMarker);\r\n          clickHandler.getPlaceInformation(lastMarker.id);\r\n          \r\n          \r\n\r\n          // thisRef.setState(clickHandler.place_rate);\r\n\r\n        });\r\n\r\n      });\r\n\r\n      map.fitBounds(bounds);\r\n    });\r\n\r\n    function toggleBounce(marker) {\r\n      if (marker.getAnimation() !== null) {\r\n        marker.setAnimation(null);\r\n        //preMarker=marker;\r\n      } else {\r\n        markers.forEach(function (marker) {\r\n          marker.setAnimation(null);\r\n        });\r\n        marker.setAnimation(google.maps.Animation.BOUNCE);\r\n      }\r\n    }\r\n\r\n\r\n    function setCurrentMarker(marker) {\r\n      currentMarker = marker;\r\n      currentMarker.position = marker.position;\r\n      map.panTo(marker.getPosition());\r\n      if (thisRef.props.savedPoint[thisRef.props.currentindex].find(item => item.id === marker.id)) {\r\n        addButton.disabled = true;\r\n    deleteButton.disabled = false;\r\n      }\r\n      else {\r\n        addButton.disabled = false;\r\n        deleteButton.disabled = true;\r\n      }\r\n    }\r\n\r\n    //     //click add marker\r\n    map.addListener('click', function (e) {\r\n      placeMarker(e.latLng, map);\r\n    });\r\n\r\n\r\n    function placeMarker(latLng, map) {\r\n      markers.forEach(function (marker) {\r\n        marker.setMap(null);\r\n      });\r\n      markers = [];\r\n\r\n      markers.push(new google.maps.Marker({\r\n        id: clickHandler.getCurrentId(),\r\n        map: map,\r\n        position: latLng,\r\n        animation: google.maps.Animation.BOUNCE,\r\n      }));\r\n      console.log(markers[0].id);\r\n      setCurrentMarker(markers[0]);\r\n    }\r\n\r\n    function addSeletedMarkers() {\r\n      // console.log(this)\r\n      // console.log(this.savedPoint)\r\n      var currentSave = {\r\n        id: currentMarker.id,\r\n        title: clickHandler.place_name.textContent,\r\n        address: clickHandler.place_address.textContent,\r\n        // marker: currentMarker,\r\n\r\n      }\r\n      if (thisRef.props.savedPoint[thisRef.props.currentindex].find(item => item.id === currentSave.id)) {\r\n        \r\n      }\r\n      else {\r\n        thisRef.savedPoint.push(currentSave);\r\n      }\r\n\r\n      var marker = new google.maps.Marker({\r\n        id: currentMarker.id,\r\n        position: currentMarker.position,\r\n        icon: goldStar,\r\n        map: map,\r\n      });\r\n      marker.addListener('click', function (event) {\r\n        setCurrentMarker(marker);\r\n        markers.forEach(function (marker) {\r\n          marker.setMap(null);\r\n        });\r\n        markers = [];\r\n        // openInfowindow(marker);\r\n        clickHandler.getPlaceInformation(marker.id);\r\n        // thisRef.setState(clickHandler.place_rate);\r\n\r\n      });\r\n\r\n      // console.log(thisRef.savedPoint);\r\n      currentMarker.setMap(null);\r\n      setCurrentMarker(marker);\r\n      addButton.disabled = true;\r\n      deleteButton.disabled = false;\r\n\r\n    }\r\n\r\n    // function checkSavedPoint(marker){\r\n    //   map.panTo(marker.position);\r\n    //   clickHandler.getPlaceInformation(marker.id);\r\n    // }\r\n\r\n    function deleteSavedPoint(marker){\r\n\r\n      function checkPoint(element) {\r\n        return element.id === marker.id;\r\n      }\r\n      if (thisRef.props.savedPoint[thisRef.props.currentindex].find(item => item.id === marker.id)) {\r\n         \r\n        var currentArray = thisRef.props.savedPoint[thisRef.props.currentindex];\r\n        let i = currentArray.findIndex(checkPoint);\r\n        thisRef.savedPoint.splice(i,1);\r\n        marker.setMap(null);\r\n        addButton.disabled = false;\r\n        deleteButton.disabled = true;\r\n        console.log(thisRef.props.savedPoint[thisRef.props.currentindex]);\r\n      }\r\n        // marker.setMap(null);\r\n        console.log(\"delete\")\r\n        var [...currentSavedPoint] = thisRef.props.savedPoint;\r\n        var index = thisRef.props.currentindex;\r\n    \r\n        currentSavedPoint[index]= thisRef.savedPoint;\r\n        thisRef.props.deletePoint(currentSavedPoint);\r\n        console.log(thisRef.savedPoint)\r\n        \r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const { savedPoint, currentindex } = state\r\n\r\n  return {\r\n    savedPoint,\r\n    currentindex\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    savePoint: (value) => {\r\n      const action = { type: \"SAVE_POINT\", payload: value };\r\n      dispatch(action);\r\n      \r\n    },\r\n    deletePoint:(value) => {\r\n      const action ={ type:\"DELETE_POINT\", payload:value};\r\n      dispatch(action);\r\n      (console.log(value));\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapApi);\r\n","import React, { Component } from \"react\";\nimport './Search.css'\nimport ResultList from \"../ResultList/ResultList\";\nimport Searchbar from \"./Searchbar\"\nimport { connect } from 'react-redux'\nimport { Row, Col } from 'antd'\nimport {\n  fetchPostsIfNeeded\n} from '../actions'\nimport SideView from \"../Side/SideView\";\nimport MapApi from \"../MapSearch/MapApi\"\n\n\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      top: 0\n    }\n  }\n\n  handleSubmit(formData) {\n    // e.preventDefault()\n\n    // const { dispatch } = this.props\n    console.log(\"formData\" + formData)\n    // dispatch(fetchPostsIfNeeded(formData))\n  }\n\n  render() {\n    const { posts, isFetching, lastUpdated } = this.props\n    console.log(posts.length)\n    let ResultListPlaceHoder;\n    // if(!(posts instanceof Array))\n    // {\n    // ResultListPlaceHoder = (<ResultList posts = {posts} lastTetchTime={lastUpdated}/>)\n    // console.log(\"come to list\")\n    // }\n    // else\n    // ResultListPlaceHoder=(<div></div>)\n    return (\n      <div>\n        <Row>\n          <Col xs={24} sm={24} md={8} lg={5} xl={4}>\n              <div >\n                <SideView />\n              </div>\n          </Col>\n          <Col xs={24} sm={24} md={1} lg={1} xl={1}>\n          </Col>\n          <Col xs={24} sm={24} md={15} lg={18} xl={18}>\n          \n              <div className=\"searchView\">\n\n                <Searchbar />\n              </div>\n            {isFetching && <h2>Loading...</h2>}\n            {!(posts instanceof Array) && (\n              <div>\n                <ResultList posts={posts} lastTetchTime={lastUpdated} />\n              </div>\n            )}\n            {/* <div>\n              <MapApi/>\n            </div> */}\n          </Col>\n        </Row>\n        \n      </div>\n    )\n  }\n}\nfunction mapStateToProps(state) {\n  const { isFetching, lastUpdated, items: posts } = state || {\n    isFetching: true,\n    items: []\n  }\n\n  return {\n    posts,\n    isFetching,\n    lastUpdated\n  }\n}\n\nexport default connect(mapStateToProps)(Search)\n\n/*******************************ClassPeople--&&--SearchLocation*************************************/\n\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { Row, Col, Affix } from 'antd'\r\nimport {\r\n    fetchPostsIfNeeded\r\n} from '../actions'\r\nimport SideView from \"../Side/SideView\";\r\nimport MapApi from \"./MapApi\"\r\n\r\n\r\n\r\nclass mapView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            top: 0\r\n        }\r\n    }\r\n\r\n    handleSubmit(formData) {\r\n        // e.preventDefault()\r\n\r\n        // const { dispatch } = this.props\r\n        console.log(\"formData\" + formData)\r\n        // dispatch(fetchPostsIfNeeded(formData))\r\n    }\r\n\r\n    render() {\r\n        const { posts, isFetching, lastUpdated } = this.props\r\n        console.log(posts.length)\r\n        let ResultListPlaceHoder;\r\n        // if(!(posts instanceof Array))\r\n        // {\r\n        // ResultListPlaceHoder = (<ResultList posts = {posts} lastTetchTime={lastUpdated}/>)\r\n        // console.log(\"come to list\")\r\n        // }\r\n        // else\r\n        // ResultListPlaceHoder=(<div></div>)\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    <Col xs={24} sm={24} md={8} lg={5} xl={4}>\r\n                        <div >\r\n                            <SideView />\r\n                        </div>\r\n                    </Col>\r\n                    <Col xs={24} sm={24} md={1} lg={1} xl={1}>\r\n                    </Col>\r\n                    <Col xs={24} sm={24} md={15} lg={18} xl={19}>\r\n\r\n                        <div>\r\n                            <MapApi />\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    const { isFetching, lastUpdated, items: posts } = state || {\r\n        isFetching: true,\r\n        items: []\r\n    }\r\n\r\n    return {\r\n        posts,\r\n        isFetching,\r\n        lastUpdated\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(mapView)\r\n\r\n/*******************************ClassPeople--&&--SearchLocation*************************************/\r\n\r\n","\nimport React, {\n  Component\n} from \"react\";\nimport 'antd/dist/antd.css';\nimport './DetailsItem.css';\nimport { Card, Icon, Collapse, Rate } from 'antd';\n\nconst { Meta } = Card;\nconst Panel = Collapse.Panel;\nclass DetailsItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hotel_name:\"XXX Hotel\",\n      hotel_description:\"This is hotel description >>>\"\n\n    }\n  }\n\n\n\n  render() {\n   \n\n    return (\n      <div>\n        <Card\n          style={{width:\"100%\"}} \n          cover={<img alt=\"example\" src=\"https://www3.hilton.com/resources/media/hi/IADMRHF/en_US/img/shared/full_page_image_gallery/main/HH_hotelextdusk_2_675x359_FitToBoxSmallDimensionSmallDimension_Center.jpg\" />}\n        >\n      \n        <Meta\n            title={this.state.hotel_name}\n          />\n        <Rate disabled defaultValue={3} />\n        <Meta\n            description={this.state.hotel_description}\n          />\n        \n         <Collapse\n          bordered={false}\n          expandIcon={({ isActive }) => <Icon type=\"caret-right\" rotate={isActive ? 90 : 0} />}\n        >\n          <Panel header=\"Available Time\" key=\"1\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n          <Panel header=\"Comments\" key=\"2\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n          <Panel header=\"Address\" key=\"3\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n        </Collapse>\n          \n          \n        </Card>       \n      </div>\n\n    );\n  }\n}\n\nexport default DetailsItem;          ","import React, { Component } from 'react';\n// import Startview from \"../PlanView/Startview\";\nimport Search from \"../Search/Search\";\nimport MapView from \"../MapSearch/MapView\";\nimport { Button } from 'antd';\nimport DetailItem from \"../Details/DetailsItem\";\nimport { connect } from \"react-redux\";\n\n\n\nclass ViewSelection extends Component {\n    // state = {UI:[\"PlanItemView\",\"PlanItemView\",\"PlanItemView\"]\n    // }\n\n    // change the timeline view status to control the view display\n    addPlan = () => {\n        var index = this.props.currentindex\n        var [...newUI]=this.props.UI\n        newUI[index]=\"Search\"\n        this.props.addPlan(newUI)\n        //this.setState({UI:this.props.UI})\n        console.log(newUI)\n        console.log(this.props.UI)\n    }\n    render() {\n    \n        switch (this.props.UI[this.props.currentindex]) {\n            case \"DetailItem\": {\n                return (\n                    <div>\n                        <DetailItem />\n                    </div>)\n            }\n            case \"Search\": {\n                return (\n                    <div>\n                       <Search />\n                    </div>)\n            }\n            case \"Map\": {\n                return (\n                    <div>\n                        <MapView />\n                    </div>)\n            }\n            default:\n                {\n                    return (\n                        <div>\n                            <div>\n                                {/* <div>{this.state.UI}</div> */}\n                                <Button type=\"primary\" shape=\"round\" icon=\"edit\" size={\"large\"} onClick={this.addPlan}>ADD YOUR PLAN</Button>\n                            </div>\n                        </div>)\n                }\n        }\n    }\n}\nfunction mapStateToProps(state) {\n    const{timeline,currentindex,UI}=state;\n    return {\n        timeline,\n        currentindex,\n        UI\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        addPlan: (value) => {\n            const action = { type: \"ADD_PLAN\", payload: value };\n            dispatch(action);\n            (console.log(value))\n        },\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewSelection)\n\n","import React, { Component } from 'react';\nimport { Timeline, Card, PageHeader, Col, Row, Avatar,Divider } from 'antd';\nimport { connect } from \"react-redux\";\nimport \"../ResultList/ResultList.css\"\n\n\nclass PrintoutView extends Component {\n    state = {}\n    render() {\n        const { timeline, savedFlight, savedPoint } = this.props;\n\n        var timeLinePrint = timeline.map((day, i) => {\n            if(savedFlight[i])\n            var flightsPerDay = savedFlight[i].map((flight, i) =>\n                (\n                        <Row key = {i} type=\"flex\" align=\"middle\">\n                            <Col xs={13} sm={12} md={2} lg={2} xl={2}>\n                                <Row type=\"flex\" justify=\"start\">\n                                    <Avatar alt=\"airline\" src={flight.CarriersImg} />\n                                </Row>\n                            </Col>\n                            <Col xs={11} sm={12} md={5} lg={4} xl={4}>\n                                <Row type=\"flex\" justify=\"start\" className=\"airLineStyle\">\n                                    <h3 className=\"airLineStyle\">{flight.CarriersName}</h3>\n                                </Row>\n                                <Row type=\"flex\" justify=\"start\" >\n                                    {flight.FlightNumbers}\n                                </Row>\n                            </Col>\n                            <Col xs={24} sm={12} md={6} lg={5} xl={7}>\n                                <Row type=\"flex\" justify=\"start\">\n                                    <b >{flight.Departure}</b>\n                                </Row>\n                                <Row type=\"flex\" justify=\"start\" >\n                                    <b>{flight.OriginStation}</b>\n                                </Row>\n                            </Col>\n                            <Col xs={24} sm={12} md={5} lg={3} xl={4}>\n                                <br></br>\n                                <Row type=\"flex\" justify=\"start\">\n                                    {flight.Duration}\n                                </Row>\n                                <br></br>\n                            </Col>\n                            <Col xs={24} sm={12} md={6} lg={5} xl={7}>\n                                <Row type=\"flex\" justify=\"start\">\n                                    <b >{flight.Arrival}</b>\n                                </Row>\n                                <Row type=\"flex\" justify=\"start\">\n                                    <b>{flight.DestinationStation}</b>\n                                </Row>\n                            </Col>\n                        </Row>\n\n                ))\n                if(savedPoint[i])\n            var pointsPerDay = savedPoint[i].map((point,i)=> \n            (\n                <Row key={i}>\n                    <Col xs={24} sm={12} md={8} lg={8} xl={8}>\n                    <b>{point.title}</b>\n                    </Col>\n                    <Col xs={24} sm={24} md={14} lg={14} xl={14}>\n                    <p>{point.address}</p>\n                    </Col>\n                </Row>\n            )) \n\n            return (\n                <Timeline.Item key={i}>\n                  <Card\n                        key={i}\n                        title={day}\n                        bordered={false}\n                        style={{ width: \"90%\" }}\n                    >\n                    {flightsPerDay}\n                    <Divider/>\n                    {pointsPerDay}\n                    </Card>\n                </Timeline.Item>\n            )\n        })\n\n\n        return (\n            <div>\n                <Col span={2}></Col>\n                <Col span={20}>\n                <PageHeader\n                onBack={() => this.props.changeView(\"timeline\")}\n                title=\"Your personal travel plan\"\n                subTitle = '\"Ctrl+P\" to print your plan'\n                style ={{textAlign:\"left\"}}\n            />\n                <Timeline mode=\"alternate\" >\n                    {timeLinePrint}\n                </Timeline>\n                </Col>\n                <Col span={2}></Col>\n            \n                \n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    const { timeline, currentindex, UI, savedFlight, savedPoint } = state;\n    return {\n        timeline,\n        currentindex,\n        UI,\n        savedFlight,\n        savedPoint\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n            (console.log(value))\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(PrintoutView);","import React, { Component } from 'react';\nimport { Row, Col,Alert } from 'antd';\n// import SideView from \"../Side/SideView\";\nimport Timeline from \"../Timeline/Timeline\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { connect } from \"react-redux\";\nimport ViewSelection from \"../ViewSelection/ViewSelection\"\nimport PrintoutView from \"../PrintoutView/PrintoutView\"\n\nclass PlanView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: 0, previous: 0 };\n  }\n  giveContent = () => {\n    console.log(this.props.currentindex);\n    var len = this.props.timeline.length;\n    var Content = [];\n    for (var i = 0; i <= len - 1; i++) {\n      Content.push({ date: this.props.timeline[i], content: <ViewSelection UI={this.props.UI[i]} /> });\n    }\n    return Content;\n    // var Content = [\n    //   {\n    //     date: '2019-01-04',\n    //     content: <PlanViewDetails UI=\"PlanItemView\" />\n    //   },\n    //   {\n    //     date: '2019-01-05',\n    //     content: <PlanViewDetails />\n    //   },\n    //   {\n    //     date: '2019-01-08',\n    //     content: <PlanViewDetails />\n    //   },\n    //   {\n    //     date: '2019-01-10',\n    //     content: <PlanViewDetails />\n    //   }\n\n    // ];\n  }\n\n  componentWillMount() {\n    if(this.props.timeline&&this.props.timeline.length>0)\n    {\n    this.data = this.giveContent().map((view, index) => {\n      return ({\n        date: view.date,\n        component: (\n          <div key={index}>\n            {view.content}\n          </div>\n        )\n      });\n    });\n  }\n  }\n  componentWillReceiveProps(nextProps) {\n    if(this.props.timeline&&this.props.timeline.length>0)\n    {\n    if (nextProps !== this.props) {\n      this.data = this.giveContent().map((view, index) => {\n        return ({\n          date: view.date,\n          component: (\n            <div key={index}>\n              {view.content}\n            </div>\n          )\n        });\n      });\n    }\n  }\n  }\n  render() {\n    var mainView;\n    if(this.props.timeline.length>0)\n    {\n    switch (this.props.currentView) {\n      case \"timeline\": {\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <Timeline content={this.data} />\n            </Col>\n          </Row>\n        )\n        break;\n      }\n      case \"printoutView\": {\n        console.log(\"test pint\")\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <PrintoutView />\n            </Col>\n          </Row>)\n          break;\n      }\n      default:{\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <Timeline content={this.data} />\n            </Col>\n          </Row>\n        )\n      }\n    }\n  }\n  else mainView=(   <Alert\n    message=\"There is no timeline now\"\n    description=\"Please creat your timeline first and save it\"\n    type=\"info\"\n  />)\n        \n        return (\n          <div>\n            {/* <div>{this.props.timeline+\"yes\"}</div>\n        <div>{this.props.UI}</div>\n        <div>{this.props.currentindex}</div> */}\n\n            <Navbar />\n\n\n            {mainView}\n\n\n          </div>\n        );\n    }\n  }\n\n\n\nfunction mapStateToProps(state) {\n  return {\n\n    timeline: state.timeline,\n    UI: state.UI,\n    currentindex: state.currentindex,\n    currentView: state.currentView\n  }\n}\n\nexport default connect(mapStateToProps)(PlanView)\n","\r\nimport firebase from \"firebase\"\r\nexport function updateState(uid, state) {\r\n    // A post entry.\r\n    var newState = {\r\n      \r\n      uid: uid,\r\n      state:state\r\n    };\r\n  \r\n    // Get a key for a new Post.\r\n    // var newPostKey = firebase.database().ref().child('states').push().key;\r\n  \r\n    // Write the new post's data simultaneously in the posts list and the user's post list.\r\n    var updates = {};\r\n    updates['/state/' ] = newState;\r\n    updates['/user-state/' + uid] = newState;\r\n  \r\n    return firebase.database().ref().update(updates);\r\n  }\r\n\r\n  export function writeUserData(userId, email) {\r\n    firebase.database().ref('users/' + userId).set({\r\n\r\n      email: email\r\n\r\n    });\r\n  }\r\n\r\n  export var currentUID;\r\n\r\n  export function onAuthStateChanged(user) {\r\n    // We ignore token refresh events.\r\n    if (user && currentUID === user.uid) {\r\n      return;\r\n    }\r\n    if (user) {\r\n      currentUID = user.uid;\r\n   \r\n      writeUserData(user.uid, user.email);\r\n    //   startDatabaseQueries();\r\n    } else {\r\n      // Set currentUID to null.\r\n      currentUID = null;\r\n      // Display the splash page where you can sign-in.\r\n    //   splashPage.style.display = '';\r\n    }\r\n  }\r\n  window.addEventListener('load', function() {\r\n\r\n    firebase.auth().onAuthStateChanged(onAuthStateChanged);\r\n\r\n  }, false);\r\n","class Auth {\n  constructor() {\n    this.authenticated = false;\n  }\n\n  login(cb) {\n    this.authenticated = true;\n    cb();\n  }\n\n  logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n}\n\nexport default new Auth();\n","import auth from \"../auth\";\nimport React, { Component } from \"react\";\nimport './SignIn.css'\nimport { Link } from 'react-router-dom';\nimport firebase from 'firebase'\nimport {onAuthStateChanged} from \"../Firebase/FirebaseTool\"\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: null,\n      password: null,\n      formErrors: {\n        email: \"\",\n        password: \"\"\n      },\n      errormessage:\"\"\n    };\n  }\n  \n  handleSubmit = e => {\n    e.preventDefault();\n    const email=this.state.email;\n    const password=this.state.password;\n    const auths =firebase.auth();\n    const promise= auths.signInWithEmailAndPassword(email,password);\n\n    promise.then(()=>{auth.login(() => {\n      this.props.history.push(\"/app\");\n    });}).catch(e =>this.setState({ errormessage: e.message }));\n    \n    if (formValid(this.state)) {\n      console.log(`\n        --SUBMITTING--\n      `\n      );\n      firebase.auth().onAuthStateChanged(onAuthStateChanged);\n      \n    } else {\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  };\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"invalid email address\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n  };\n  // handleClick = () => {\n  //   auth.login(() => {\n  //     this.props.history.push(\"/app\");\n  //   });\n  // }\n  render() {\n    const { formErrors } = this.state;\n\n    return (\n\n      <div>\n        <div className=\"wrapper\">\n          <div className=\"form-wrapper\">\n            <h1>SignIn</h1>\n            <form onSubmit={this.handleSubmit} noValidate>\n              <div className=\"email\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  className={formErrors.email.length > 0 ? \"error\" : null}\n                  placeholder=\"Email\"\n                  type=\"email\"\n                  name=\"email\"\n                  noValidate\n                  onChange={this.handleChange}\n                />\n                {formErrors.email.length > 0 && (\n                  <span className=\"errorMessage\">{formErrors.email}</span>\n                )}\n              </div>\n              <div className=\"password\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  className={formErrors.password.length > 0 ? \"error\" : null}\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  name=\"password\"\n                  noValidate\n                  onChange={this.handleChange}\n                />\n                {formErrors.password.length > 0 && (\n                  <span className=\"errorMessage\">{formErrors.password}</span>\n                )}\n              </div>\n              <div className=\"createAccount\">\n                <button type=\"submit\" >Sign In</button>\n                <div>{this.state.errormessage}</div>\n                <Link to=\"/SignUp\" className=\"FormField__Link\">Create an account</Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default SignIn;\n","import React, { Component } from \"react\";\nimport \"./Signup.css\";\nimport { Link } from 'react-router-dom';\nimport firebase from 'firebase';\nimport auth from \"../auth\";\n\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      formErrors: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        validpassword: \"\",\n      },\n      errormessage:\"\",\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const email = this.state.email;\n    const password = this.state.password;\n    const auths = firebase.auth();\n    const promise = auths.createUserWithEmailAndPassword(email, password);\n\n    promise.then(() => {\n      auth.login(() => {\n        this.props.history.push(\"/\");\n      });\n    }).catch(e =>this.setState({ errormessage: e.message })\n    );\n\n    firebase.auth().onAuthStateChanged(firebaseuser => {\n      if (firebaseuser) { console.log(firebaseuser) }\n      else (console.log(\"No logged in\"))\n    })\n    if (formValid(this.state)) {\n      console.log(`\n        --SUBMITTING--\n   `);\n    } else {\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  };\n\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"firstName\":\n        formErrors.firstName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"lastName\":\n        formErrors.lastName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"invalid email address\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        this.setState({ thepassword: value })\n        break;\n      case \"validpassword\":\n        formErrors.validpassword =\n          value !== this.state.thepassword ? \"please enter the same password\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value });\n  };\n\n  render() {\n    const { formErrors } = this.state;\n    console.log(this.state)\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form-wrapper\">\n          <h1>Create Account</h1>\n          <form onSubmit={this.handleSubmit} noValidate>\n            <div className=\"firstName\">\n              <label htmlFor=\"firstName\">First Name</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"First Name\"\n                type=\"text\"\n                name=\"firstName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.firstName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.firstName}</span>\n              )}\n            </div>\n            <div className=\"lastName\">\n              <label htmlFor=\"lastName\">Last Name</label>\n              <input\n                className={formErrors.lastName.length > 0 ? \"error\" : null}\n                placeholder=\"Last Name\"\n                type=\"text\"\n                name=\"lastName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.lastName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.lastName}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                className={formErrors.email.length > 0 ? \"error\" : null}\n                placeholder=\"Email\"\n                type=\"email\"\n                name=\"email\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.email.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.email}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                className={formErrors.password.length > 0 ? \"error\" : null}\n                placeholder=\"Password\"\n                type=\"password\"\n                name=\"password\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.password.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.password}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"valid password\">Valid Password</label>\n              <input\n                className={formErrors.validpassword.length > 0 ? \"error\" : null}\n                placeholder=\"valid password\"\n                type=\"validpassword\"\n                name=\"validpassword\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.password.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.validpassword}</span>\n              )}\n            </div>\n            <div className=\"createAccount\">\n              <button type=\"submit\">Create Account</button>\n              <div>{this.state.errormessage}</div>\n              <Link to=\"/\" className=\"FormField__Link\">Already Have an Account?</Link>\n            </div>\n\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport auth from \"./auth\";\n\nexport const ProtectedRoute = ({\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (auth.isAuthenticated()) {\n          return <Component {...props} />;\n        } else {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: {\n                  from: props.location\n                }\n              }}\n            />\n          );\n        }\n      }}\n    />\n  );\n};\n","// import { combineReducers } from 'redux'\n// import firebase from 'firebase'\nimport {updateState,currentUID} from \"./Firebase/FirebaseTool\"\n\n\n\nconst initialstate={departuredate:'yessss',\n                    returndate:'nooooo',\n                    departureplace:'beijing',\n                    currentindex: 0,\n                    isFetching: false,\n                    //   didInvalidate: false,\n                      items: [],\n                      currentView:\"timeline\",\n                    savedPoint:[],\n                  savedFlight:[],\n                  timeline:[]\n                }\n\n\n\n// export default function reducer(state=initialstate,action){\n//     console.log(\"reducer running\");\n//     switch(action.type){\n        // case \"SEARCH\":\n        // return Object.assign({},state,{PlanViewUI:action.payload})\n//         default:\n//         return state;\n//     }\n    \n// }\n\nexport default function Datereducer(state=initialstate,action){\n    console.log(\"reducer running\");\n    switch(action.type){\n        case \"ON_CHANGE_DEPARTURE\":\n        return Object.assign({},state,{departuredate:action.payload})\n        case \"ON_CHANGE_RETURN\":\n        return Object.assign({},state,{returndate:action.payload})\n        case \"GENERATE_TIME_LINE\":\n       updateState(currentUID,Object.assign({},state,{timeline:action.timeline,UI:action.UI,savedPoint:action.savedPoint,savedFlight:action.savedFlight}))\n\n        return Object.assign({},state,{timeline:action.timeline,UI:action.UI,savedPoint:action.savedPoint,savedFlight:action.savedFlight})\n        case \"TIMELINE_CLICK\":\n        return Object.assign({},state,{currentindex:action.payload})\n        case \"ADD_PLAN\":\n        return Object.assign({},state,{UI:action.payload})\n        case \"CHANGE_PLAN\":\n        return Object.assign({},state,{UI:action.payload})\n        case \"CHANGE_VIEW\":\n        return Object.assign({},state,{currentView:action.payload})\n        case \"SAVE_POINT\":\n        updateState(currentUID,Object.assign({},state,{savedPoint:action.payload}))\n\n        return Object.assign({},state,{savedPoint:action.payload})\n        case \"DELETE_POINT\":\n        return Object.assign({},state,{savedPoint:action.payload})\n        \n        case \"SAVE_FLIGHT\":\n        updateState(currentUID,Object.assign({},state,{savedFlight:action.payload}))\n        return Object.assign({},state,{savedFlight:action.payload})\n        case \"REQUEST_POSTS\":\n        return Object.assign({}, state, {\n          isFetching: true,\n        //   didInvalidate: false\n        })\n      case \"RECEIVE_POSTS\":\n        return Object.assign({}, state, {\n          isFetching: false,\n        //   didInvalidate: false,\n          items: action.posts,\n          lastUpdated: action.receivedAt\n        })\n\n\n        case \"GET_DATA\":\n \n        // return Object.assign({},state,{timeline:action.payload.timeline,savedPoint:action.payload.savedPoint,savedFlight:action.payload.savedFlight\n        // })\n        return Object.assign({},action.payload)\n    \n        default:\n        return state;\n    }\n    \n}\n\n\n\n\n  // function flightDataFetch(\n  //   state = {\n  //     isFetching: false,\n  //   //   didInvalidate: false,\n  //     items: []\n  //   },\n  //   action\n  // ) {\n  //   switch (action.type) {\n  //   //   case INVALIDATE_SUBREDDIT:\n  //   //     return Object.assign({}, state, {\n  //   //       didInvalidate: true\n  //   //     })\n  //     case \"REQUEST_POSTS\":\n  //       return Object.assign({}, state, {\n  //         isFetching: true,\n  //       //   didInvalidate: false\n  //       })\n  //     case \"RECEIVE_POSTS\":\n  //       return Object.assign({}, state, {\n  //         isFetching: false,\n  //       //   didInvalidate: false,\n  //         items: action.posts,\n  //         lastUpdated: action.receivedAt\n  //       })\n  //     default:\n  //       return state\n  //   }\n  // }\n\n\n//   const rootReducer = combineReducers({\n//    Datereducer,\n//     flightDataFetch\n//   })\n\n//   export default rootReducer;","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from './reducer'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nexport default function configureStore(preloadedState) {\r\n  return createStore(\r\n    rootReducer,\r\n    preloadedState,\r\n    applyMiddleware(thunkMiddleware, loggerMiddleware)\r\n  )\r\n}","// import{createStore} from \"redux\"\n// import rootReducer from \"./reducer\"\nimport configureStore from \"./ConfigureStore\"\n\nconst store = configureStore()\n// const store=createStore(rootReducer);\nexport default store;\n\n\n\n","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Welcome from \"./Welcome/Welcome\";\nimport PlanView from \"./PlanView/PlanView\";\nimport PrintTimeline from \"./PrintoutView/PrintoutView\"\nimport SignIn from \"./SignIn/SignIn\";\nimport SignUp from \"./Signup/Signup\";\nimport { ProtectedRoute } from \"./protected.route\";\n\nimport './App.css';\nimport store from \"./store\";\nimport { Provider } from 'react-redux'\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n      <div className=\"App\">\n        <header>\n         \n        </header>\n     \n        <Switch>\n            <Route exact path=\"/\" component={SignIn} />\n            <Route exact path=\"/SignUp\" component={SignUp} />\n            <ProtectedRoute exact path=\"/app\" component={Welcome} />\n            <Route exact path = \"/PlanView\" component={PlanView} /> \n            <Route path=\"*\" component={() => \"404 NOT FOUND\"} />\n          </Switch>\n\n      </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase'\n\nvar config = {\n  apiKey: \"AIzaSyBhzhhGWi1TLDQyl8dyDOhR6WIG-BRcYKc\",\n  authDomain: \"travelplanner-web.firebaseapp.com\",\n  databaseURL: \"https://travelplanner-web.firebaseio.com\",\n  projectId: \"travelplanner-web\",\n  storageBucket: \"travelplanner-web.appspot.com\",\n  messagingSenderId: \"148373620558\"\n};\n  firebase.initializeApp(config);\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById('root'));\n\n    \n"],"sourceRoot":""}