{"version":3,"sources":["imgs/01.jpg","imgs/02.jpg","Navbar/Navbar.js","Welcome/Welcome.js","Timeline/Timeline.js","apiUtility/apiUtility.js","ResultList/ResultList.js","actions.js","Search/Searchbar.js","Side/SideView.js","Search/Search.js","MapSearch/ClickEventHandler.js","MapSearch/MapApi.js","MapSearch/MapView.js","Details/DetailsItem.js","ViewSelection/ViewSelection.js","PrintoutView/PrintoutView.js","PlanView/PlanView.js","Firebase/FirebaseTool.js","auth.js","SignIn/SignIn.js","Signup/Signup.js","protected.route.js","reducer.js","ConfigureStore.js","store.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Navbar","state","top","react_default","a","createElement","affix","offsetTop","this","menu","mode","className","Item","style","float","tooltip","placement","title","icon","type","color","theme","Link","to","es_button","Component","toolTips","Welcome","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","disabledStartDate","current","moment","endOf","disabledEndDate","endValue","startValue","valueOf","onChange","field","value","setState","defineProperty","onStartChange","onChangedeparture","_d","getTime","onEndChange","onChangereturn","handleStartOpenChange","open","disabled","endOpen","handleEndOpenChange","getData","myUserId","firebase","auth","currentUser","uid","thisRef","assertThisInitialized","database","ref","once","then","snapshot","updateData","val","generateTimeLine","timeline","timeLinearr","departuredate","returndate","UI","Array","length","fill","savedPoint","savedFlight","changeView","startdate","enddate","datearray","i","formatdate","Date","toISOString","slice","push","radioValue","items","_this2","_this$state","src_Navbar_Navbar","carousel","autoplay","alt","maxWidth","src","img01","img02","row","justify","align","col","span","date_picker","size","disabledDate","format","initialValue","onOpenChange","popover","content","htmlType","onClick","ghost","connect","dispatch","payload","Timeline","previous","dates","map","entry","date","views","index","key","component","width","height","margin","react_horizontal_timeline_default","indexClick","timelineClick","values","styles","background","foreground","outline","lib_default","onChangeIndex","resistance","currentindex","timeConvert","n","hours","rhours","Math","floor","minutes","round","Panel","collapse","ResultList","saveFlight","e","flight","preventDefault","trigger","find","item","FlightId","newSaveFlight","toArray","concat","currentSavedFlight","resultList","posts","leg","OriginStation","DestinationStation","carrier","price","_this$props$posts","Itineraries","Legs","Places","Carriers","flightInfomation","es_alert","message","description","showIcon","Itinerary","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","Id","OutboundLegId","place","PricingOptions","Price","assign","FlightNumbers","DisplayCode","FlightNumber","Name","Departure","Arrival","CarriersName","CarriersImg","ImageUrl","BookingLink","DeeplinkUrl","Duration","err","return","addHoverContent","shopHoverContent","card","hoverable","bodyStyle","padding","paddingLeft","xs","sm","md","lg","xl","avatar","shape","href","target","rel","showArrow","header","REQUEST_POSTS","RECEIVE_POSTS","BASE_URL","BASE_URLGET","CONTENT_TYPE","Content-Type","API_KEY","X-RapidAPI-Key","sessionKeyRegex","receivePosts","json","receivedAt","now","fetchPosts","data","fetch","body","From","To","Time","headers","method","response","ok","console","log","get","Promise","reject","location","match","sessionLink","catch","reason","Searchbars","getFormValue","form","getFieldsValue","handleSubmit","regex","document","getElementById","fromInputId","toInputId","onSearchSubmit","handleSwap","departure","arrvie","options","formatting","viewIndex","AirportInput","es_form","onSubmit","id","placeholder","Searchbar","create","name","getState","isFetching","fetchPostsIfNeeded","SideView","deleteFlight","flightNumber","findIndex","element","splice","handleClick","newUI","changePlan","bind","sidePointList","point","list","sideFlightList","block","marginRight","paddingTop","Search","formData","_this$props","lastUpdated","src_Side_SideView","Search_Searchbar","spin","src_ResultList_ResultList","lastTetchTime","_ref","ClickEventHandler","origin","event","placeId","infowindow","close","stop","currentId","getPlaceInformation","infowindowContent","display","place_noPlace","textContent","latLng","setPosition","me","placesService","getDetails","status","geometry","place_icon","photos","getUrl","place_name","types","place_type","international_phone_number","place_tel","opening_hours","place_openHour","weekday_text","rating","place_rate","place_address","formatted_address","alert","getCurrentId","google","maps","places","PlacesService","InfoWindow","pixelOffset","Size","setContent","addListener","MapApi","savePoint","newSavePoint","currentSavedPoint","deletePoint","React","createRef","searchInput","initAutocomplete","es_input","bordered","extra","headStyle","fontSize","position","cover","maxHeight","Map","center","lat","lng","zoom","mapTypeId","clickHandler","refs","infowindowcontent","placeicon","placename","placeaddress","placetype","placetel","placeopeningHour","placerate","input","searchBox","SearchBox","addButton","deleteButton","controls","ControlPosition","TOP_LEFT","setBounds","getBounds","savedMarkers","markers","currentMarker","address","goldStar","path","fillColor","fillOpacity","scale","strokeColor","strokeWeight","forEach","marker","Marker","setCurrentMarker","panTo","getPosition","addEventListener","currentSave","setMap","addSeletedMarkers","currentArray","deleteSavedPoint","getPlaces","bounds","LatLngBounds","place_id","animation","Animation","DROP","viewport","union","extend","lastMarker","getAnimation","setAnimation","BOUNCE","fitBounds","placeMarker","mapView","MapSearch_MapApi","Meta","DetailsItem","hotel_name","hotel_description","rate","defaultValue","expandIcon","isActive","rotate","DetailsItem_Panel","ViewSelection","addPlan","src_Details_DetailsItem","src_Search_Search","MapView","PrintoutView","timeLinePrint","day","flightsPerDay","pointsPerDay","es_timeline","divider","page_header","onBack","subTitle","textAlign","PlanView","giveContent","len","Content","src_ViewSelection_ViewSelection","view","nextProps","mainView","currentView","src_Timeline_Timeline","src_PrintoutView_PrintoutView","currentUID","Auth","authenticated","cb","updateState","newState","updates","update","onAuthStateChanged","user","userId","email","set","window","emailRegex","RegExp","formValid","formErrors","rest","objectWithoutProperties","valid","SignIn","password","signInWithEmailAndPassword","login","history","errormessage","error","handleChange","_e$target","objectSpread","test","noValidate","htmlFor","Signup","createUserWithEmailAndPassword","firebaseuser","firstName","lastName","thepassword","validpassword","ProtectedRoute","Route","render","isAuthenticated","Redirect","pathname","from","initialstate","departureplace","Datereducer","arguments","action","loggerMiddleware","createLogger","preloadedState","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","App","es","Switch","exact","SignUp","protected_route_ProtectedRoute","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","BrowserRouter","src_App_0"],"mappings":"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","file":"static/js/main.c8fb16be.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/01.98377dca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/02.ab46828c.jpg\";","import React, { Component } from 'react';\nimport { Affix, Menu, Icon, Button, Tooltip } from 'antd';\nimport \"./Navbar.css\";\nimport { Link } from \"react-router-dom\";\n\nclass Navbar extends Component {\n    state = {\n        top: 0,\n    }\n    render() {\n        return (\n            <div>\n                <header>\n                    <Affix offsetTop={this.state.top}>\n                        <Menu mode=\"horizontal\" className=\"background\">\n                            <Menu.Item style={{ float: \"left\" }}>\n                            <Tooltip placement=\"bottomRight\" title={\"Made by ZY ZXY QZ LRZ with Love\"}>\n                                <Icon type=\"smile\" style={{ color: \"#ffffff\" }} theme=\"filled\" />\n                                </Tooltip>\n                            </Menu.Item>\n                            <Menu.Item style={{ float: \"right\" }}>\n                                <Tooltip placement=\"bottomLeft\" title={\"Click to sign out\"}>\n                                    <Link  to=\"/\">\n                                        <Button type=\"primary\" icon=\"logout\" />\n                                    </Link>\n                                </Tooltip>\n\n                            </Menu.Item>\n                        </Menu>\n                    </Affix>\n                </header>\n            </div>\n        );\n    }\n}\n\nexport default Navbar;","import React, {\n    Component\n} from \"react\";\nimport 'antd/dist/antd.css';\nimport {\n    Button, DatePicker, Row, Col, Carousel, Popover\n} from 'antd';\nimport moment from \"moment\"\nimport './Welcome.css'\nimport Navbar from \"../Navbar/Navbar\"\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport img01 from \"../imgs/01.jpg\"\nimport img02 from \"../imgs/02.jpg\"\nimport firebase from 'firebase/app'\n\n\nconst toolTips = (\n    <div>\n        <p>Step 1: Choose your travel dates.</p>\n        <p>Step 2: Explore flight or attractions and edit your daily travel plan.</p>\n        <p>Step 3: Export your plan! Print it or save to share with friends!</p>\n        <p>Step 4: Enjoy your journey! :P</p>\n    </div>\n);\n\nclass Welcome extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            startValue: null,\n            endValue: null,\n            endOpen: false,\n            disabled: false,\n            radioValue: \"Return\",\n        }\n    }\n\n    disabledStartDate = (current) => {\n        return current && current < moment().endOf('day');\n    }\n\n    disabledEndDate = (endValue) => {\n        const startValue = this.state.startValue;\n        if (!endValue || !startValue) {\n            return false;\n        }\n        return endValue.valueOf() <= startValue.valueOf();\n    }\n\n    onChange = (field, value) => {\n        this.setState({\n            [field]: value,\n        });\n    }\n\n    onStartChange = (value) => {\n        if (value) {\n            this.onChange('startValue', value);\n            this.props.onChangedeparture(value._d.getTime());\n        }\n        else{\n            this.onChange('startValue', null);\n        }\n    }\n\n    onEndChange = (value) => {\n        if (value) {\n            this.onChange('endValue', value);\n            this.props.onChangereturn(value._d.getTime());\n        }\n        else{\n            this.onChange('endValue', null);\n        }\n    }\n\n    handleStartOpenChange = (open) => {\n        if (this.state.disabled !== true) {\n            if (!open) {\n                this.setState({ endOpen: true });\n            }\n        }\n    }\n\n    handleEndOpenChange = (open) => {\n        this.setState({ endOpen: open });\n    }\n\n    updateData(value) {\n        if (value.savedFlight) {\n\n        }\n        else {\n            value.savedFlight = Array(value.timeline.length).fill([]);\n        }\n        if (value.savedPoint) {\n\n        }\n        else {\n            value.savedPoint = Array(value.timeline.length).fill([]);\n        }\n        if (value.items) { }\n        else {\n            value.items = [];\n        }\n        this.props.getData(value);\n        this.props.changeView(\"printoutView\");\n    }\n    getData = () => {\n        var myUserId = firebase.auth().currentUser.uid;\n        var thisRef = this;\n        firebase.database().ref('user-state/' + myUserId + '/state').once('value').then(function (snapshot) {\n\n            return thisRef.updateData(snapshot.val())\n\n        })\n    }\n    generateTimeLine = () => {\n        var timeline = this.timeLinearr(this.props.departuredate, this.props.returndate)\n        var UI = Array(timeline.length).fill(\"Startview\")\n        var savedPoint = Array(timeline.length).fill([\"placeHolder\"])\n        var savedFlight = Array(timeline.length).fill([\"placeHolder\"])\n        this.props.generateTimeLine(timeline, UI, savedPoint, savedFlight);\n        this.props.changeView(\"timeline\");\n    }\n\n    timeLinearr = (startdate, enddate) => {\n        var datearray = [];\n        for (var i = startdate; i <= enddate; i = i + 60 * 60 * 24 * 1000) {\n            var ISO = new Date(i)\n            var formatdate = ISO.toISOString().slice(0, 10);\n            datearray.push(formatdate);\n        }\n        return datearray;\n    }\n\n    render() {\n        const { startValue, endValue, endOpen } = this.state;\n \n\n        return (\n            <div>\n                <Navbar />\n                <Carousel autoplay>\n                    <div><img alt=\"1\" style={{ maxWidth: \"100%\" }} src={img01}></img></div>\n                    <div><img alt=\"2\" style={{ maxWidth: \"100%\" }} src={img02}></img></div>\n                </Carousel>\n\n                <div className=\"welcomeView\">\n                    <Row type=\"flex\" justify=\"start\" align=\"middle\">\n                        <Col span={3} className=\"typeCol\"><b className=\"typeStyle\">DEPART</b></Col>\n                        <Col span={8}>\n                            <DatePicker className=\"datePicker\"\n                                size=\"large\"\n                                disabledDate={this.disabledStartDate}\n                                format=\"DD-MM-YYYY\"\n                                initialValue={startValue}\n                                onChange={this.onStartChange}\n                                onOpenChange={this.handleStartOpenChange}\n                            />\n                        </Col>\n                        <Col span={2} className=\"typeCol\"><b className=\"typeStyle\">TO</b></Col>\n                        <Col span={8}  >\n                            <DatePicker className=\"datePicker\"\n                                size=\"large\"\n                                disabledDate={this.disabledEndDate}\n                                format=\"DD-MM-YYYY\"\n                                initialValue={endValue}\n                                onChange={this.onEndChange}\n                                open={endOpen}\n                                onOpenChange={this.handleEndOpenChange}\n                            />\n                        </Col>\n                    </Row>\n                    <Row type=\"flex\" justify=\"center\" align=\"middle\" className=\"buttonStyle\">\n                        <Col span={3}></Col>\n                        <Col span ={3}>\n                            <Popover content={toolTips} title=\"Four steps to create your personal travel plan\">\n                                <Button size='large'>First Time User? </Button>\n                            </Popover>\n                        </Col>\n                        <Col span={12} ><Link to=\"/Planview\">\n                            <Button size=\"large\" type=\"primary\" htmlType=\"submit\" disabled={!startValue||!endValue} onClick={this.generateTimeLine}>Start New Plan</Button>\n                        </Link></Col>\n                        <Col span={6} align=\"left\">\n                            <Link to=\"/Planview\"><Button size=\"large\" onClick={() => { this.getData() }} type=\"primary\" ghost>My Previous Plan</Button></Link></Col>\n\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n\n    return {\n        departuredate: state.departuredate,\n        returndate: state.returndate,\n        timeline: state.timeline\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        onChangedeparture: (value) => {\n            const action = { type: \"ON_CHANGE_DEPARTURE\", payload: value };\n            dispatch(action);\n        },\n        onChangereturn: (value) => {\n            const action = { type: \"ON_CHANGE_RETURN\", payload: value };\n            dispatch(action);\n        },\n        generateTimeLine: (timeline, UI, savedPoint, savedFlight) => {\n            const action = {\n                type: \"GENERATE_TIME_LINE\",\n                timeline: timeline,\n                UI: UI,\n                savedPoint: savedPoint,\n                savedFlight: savedFlight\n\n\n            };\n            dispatch(action);\n        },\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n        },\n        getData: (value) => {\n            const action = {\n                type: \"GET_DATA\", payload: value\n\n            };\n            dispatch(action);\n\n        }\n    }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Welcome)\n","import React, { Component } from 'react';\nimport HorizontalTimeline from \"react-horizontal-timeline\"\nimport SwipeableViews from 'react-swipeable-views';\nimport { connect } from \"react-redux\";\n\n\nclass Timeline extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            value: 0,\n            previous: 0,\n\n        };\n    }\n\n    componentWillMount() {\n        if (this.props.content)\n            this.dates = this.props.content.map((entry) => entry.date);\n    }\n\n    render() {\n        if (this.props.content) {\n            var views = this.props.content.map((entry, index) => {\n                return (\n                    <div key={index}>\n                        {entry.component}\n                    </div>\n                );\n            });\n\n            return (\n                <div>\n                    {/* Bounding box for the Timeline */}\n                    <div style={{ width: '80%', height: '100px', margin: '0 auto' }}>\n                        <HorizontalTimeline\n                            index={this.state.value}\n                            indexClick={(index) => {\n                                this.setState({ value: index, previous: this.state.value });\n                                this.props.timelineClick(index);\n                            }}\n                            values={this.dates}\n                            styles={{ background: '#ffffff', foreground: '#40a9ff', outline: '#bae7ff' }} />\n                    </div>\n                    <div className='text-center'>\n                        {/* any arbitrary component can go here */}\n                        <SwipeableViews\n                            index={this.state.value}\n                            onChangeIndex={(value, previous) => {\n                                this.setState({ value: value, previous: previous });\n                            }}\n                            resistance>\n                            {views}\n                        </SwipeableViews>\n                    </div>\n                </div>\n            );\n        }\n        else\n            return (<div></div>)\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        currentindex: state.currentindex,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        timelineClick: (value) => {\n            const action = { type: \"TIMELINE_CLICK\", payload: value };\n            dispatch(action);\n        }\n\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Timeline)\n","\r\n\r\nexport function timeConvert(n) {\r\n    var num = n;\r\n    var hours = (num / 60);\r\n    var rhours = Math.floor(hours);\r\n    var minutes = (hours - rhours) * 60;\r\n    var rminutes = Math.round(minutes);\r\n    return rhours + \" hour(s) and \" + rminutes + \" minute(s)\";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\nimport { Avatar, Row, Col, Card, Button, Popover, Icon, Collapse,Alert } from 'antd';\nimport \"./ResultList.css\"\nimport { timeConvert } from \"../apiUtility/apiUtility\"\nimport { connect } from 'react-redux'\n\n\nconst Panel = Collapse.Panel;\nclass ResultList extends Component {\n    state = {\n    }\n    constructor(props) {\n        super(props);\n        this.savedFlight = [];\n\n    }\n    saveFlight = (e, flight) => {\n        e.preventDefault();\n        var trigger = true;\n        if (this.savedFlight.length <= 0) { trigger = true; }\n        else {\n            trigger = false;\n        }\n        if (this.props.savedFlight[this.props.currentindex] && this.props.savedFlight[this.props.currentindex].find(item => item.FlightId === flight.FlightId)) {\n\n        }\n        else {\n            this.savedFlight.push(flight);\n\n\n\n            var index = this.props.currentindex\n            var [...newSaveFlight] = this.props.savedFlight;\n\n\n            if (trigger) {\n                if (newSaveFlight[index]) {\n                    newSaveFlight[index] = newSaveFlight[index].concat(this.savedFlight);\n                    if (this.props.savedFlight[index].length > 0) {\n                        var [...currentSavedFlight] = newSaveFlight[index];\n                        this.savedFlight = currentSavedFlight;\n                    }\n                }\n                else {\n                    newSaveFlight[index] = this.savedFlight;\n                }\n            }\n            else { newSaveFlight[index] = this.savedFlight; }\n\n\n\n            this.props.saveFlight(newSaveFlight)\n        }\n    }\n    render() {\n        var resultList = null\n        if (this.props.posts) {\n            const { Itineraries, Legs, Places, Carriers } = this.props.posts;\n            var flightInfomation = [];\n            if(Itineraries.length===0){\n\nresultList=(\n            resultList =   (<Alert\n            message=\"No search result,click submit again or change the search value\"\n            description=\"No search result currently. No worry! Try click submit again! It may be caused by API instability\"\n            type=\"info\"\n            showIcon\n          />)\n)\n            }\n            else{\n            let Itinerary;\n            for (Itinerary of Itineraries) {\n                // eslint-disable-next-line no-loop-func\n                var leg = Legs.find(leg => leg.Id === Itinerary.OutboundLegId);\n                // eslint-disable-next-line no-loop-func\n                var OriginStation = Places.find(place => place.Id === leg.OriginStation);\n                // eslint-disable-next-line no-loop-func\n                var DestinationStation = Places.find(place => place.Id === leg.DestinationStation);\n                // eslint-disable-next-line no-loop-func\n                var carrier = Carriers.find(carrier => carrier.Id === leg.Carriers[0]);\n                var price = Itinerary.PricingOptions[0].Price;\n\n                flightInfomation.push(Object.assign({},\n                    {\n                        \"FlightId\": Itinerary.OutboundLegId,\n                        \"FlightNumbers\": carrier.DisplayCode + leg.FlightNumbers[0].FlightNumber,\n                        \"OriginStation\": OriginStation.Name,\n                        \"DestinationStation\": DestinationStation.Name,\n                        \"Departure\": leg.Departure,\n                        \"Arrival\": leg.Arrival,\n                        \"CarriersName\": carrier.Name,\n                        \"CarriersImg\": carrier.ImageUrl,\n                        \"price\": price,\n                        \"BookingLink\": Itinerary.PricingOptions[0].DeeplinkUrl,\n                        \"Duration\": timeConvert(leg.Duration)\n                    }\n                ))\n            }\n\n            const addHoverContent = (\n                <div>\n                    Add to your plan\n            </div>\n            );\n            const shopHoverContent = (\n                <div>\n                    Go To The Flight Website\n            </div>\n            );\n\n    \n\n\n\n            resultList = flightInfomation.map((flight, i) => (\n\n\n                <Card key={i} className=\"listStyle\" hoverable bodyStyle={{ padding: \"0px\", paddingLeft: 20 }} >\n                    <Row type=\"flex\" align=\"middle\">\n                        <Col xs={13} sm={12} md={2} lg={2} xl={2}>\n                            <Row type=\"flex\" justify=\"start\">\n                                <Avatar alt=\"airline\" src={flight.CarriersImg} />\n                            </Row>\n                        </Col>\n                        <Col xs={11} sm={12} md={5} lg={4} xl={3}>\n                            <Row type=\"flex\" justify=\"start\" className=\"airLineStyle\">\n                                <h2 className=\"airLineStyle\">{flight.CarriersName}</h2>\n                            </Row>\n                            <Row type=\"flex\" justify=\"start\" >\n                                {flight.FlightNumbers}\n                            </Row>\n                        </Col>\n                        <Col xs={24} sm={12} md={6} lg={5} xl={5}>\n                            <Row type=\"flex\" justify=\"start\">\n                                <b >{flight.Departure}</b>\n                            </Row>\n                            <Row type=\"flex\" justify=\"start\" >\n                                <b>{flight.OriginStation}</b>\n                            </Row>\n                        </Col>\n                        <Col xs={24} sm={12} md={5} lg={3} xl={5}>\n                            <br></br>\n                            <Row type=\"flex\" justify=\"start\">\n                                {flight.Duration}\n                            </Row>\n                            <br></br>\n\n\n                        </Col>\n\n                        <Col xs={24} sm={12} md={6} lg={5} xl={5}>\n                            <Row type=\"flex\" justify=\"start\">\n                                <b >{flight.Arrival}</b>\n                            </Row>\n                            <Row type=\"flex\" justify=\"start\">\n                                <b>{flight.DestinationStation}</b>\n                            </Row>\n                        </Col>\n                        <Col xs={24} sm={12} md={20} lg={3} xl={2}>\n                            <Row type=\"flex\" justify=\"start\">\n                                <b className=\"priceStyle\"> ${flight.price} </b>\n                            </Row>\n                        </Col>\n                        <Col xs={24} sm={12} md={4} lg={2} xl={2} >\n                            <Row type=\"flex\" justify=\"center\">\n                                <Popover style={{ width: 500 }} content={addHoverContent}>\n\n                                    <Button onClick={(e) => this.saveFlight(e, flight)} size=\"large\" type=\"primary\" shape=\"circle\" icon=\"plus\" />\n\n                                </Popover>\n                                <Popover style={{ width: 500 }} content={shopHoverContent}>\n                                    <a href={flight.BookingLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                                        <Icon type=\"shopping\" /><Icon type=\"double-right\" size=\"big\" />\n                                    </a>\n                                </Popover>\n                            </Row>\n                        </Col>\n                    </Row>\n                </Card>\n\n\n            ))\n        }\n        }\n        else\n       resultList=(<div></div>);\n\n\n\n            return (\n\n\n                <Panel showArrow={false} header={resultList} key=\"1\" className=\"customPanelStyle\">\n                </Panel>\n\n            )\n        }\n    }\n\nfunction mapStateToProps(state) {\n    const { savedFlight, currentindex } = state\n\n    return {\n        savedFlight,\n        currentindex\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        saveFlight: (value) => {\n            const action = { type: \"SAVE_FLIGHT\", payload: value };\n            dispatch(action);\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultList);\n","import fetch from 'cross-fetch'\r\n\r\nexport const REQUEST_POSTS = 'REQUEST_POSTS'\r\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS'\r\n\r\n\r\nconst BASE_URL = \"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/v1.0\";\r\nconst BASE_URLGET = \"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/uk2/v1.0/\"\r\nconst CONTENT_TYPE = {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n}\r\nconst API_KEY = {\r\n    \"X-RapidAPI-Key\": \"4d7d4ff10fmsh4314efafb601609p1e0648jsn8658273cf3f9\"\r\n};\r\nconst sessionKeyRegex = /v1.0\\/(.*)/;\r\n\r\n\r\n\r\n// begin to fetch data\r\nfunction requestPosts() {\r\n    return {\r\n        type: REQUEST_POSTS,\r\n    }\r\n}\r\n\r\n//achieve data fetching\r\nfunction receivePosts(json) {\r\n    return {\r\n        type: RECEIVE_POSTS,\r\n        posts: json,\r\n        receivedAt: Date.now()\r\n    }\r\n}\r\n\r\n\r\n// Use fetchCreatSession to get a session link to browser the live flight price data.\r\n\r\nfunction fetchPosts(data) {\r\n    return dispatch => {\r\n        dispatch(requestPosts())\r\n        return fetch(BASE_URL, {\r\n            body: \"cabinClass=economy&children=0&infants=0&country=US&currency=USD&locale=en-US&originPlace=\"+data.From+\"-sky&destinationPlace=\"+data.To+\"-sky&outboundDate=\"+data.Time+\"&adults=1\",\r\n            headers: Object.assign({}, CONTENT_TYPE, API_KEY),\r\n            method: \"POST\"\r\n        })\r\n\r\n            .then(response =>{\r\n                if(response.ok===true){\r\n         \r\n                console.log(\"ok\")\r\n               return response.headers.get('location')\r\n              \r\n                }\r\n                else{\r\n                    Promise.reject(\"api fetch not ok\")\r\n                }\r\n            }\r\n            )\r\n\r\n            .then(location => location.match(sessionKeyRegex)[1])\r\n            .then(sessionLink => {\r\n                return fetch(`${BASE_URLGET}${sessionLink}?sortType=price&sortOrder=asc&pageIndex=0&pageSize=10`,\r\n                    {\r\n                        headers: Object.assign({}, API_KEY)\r\n                    })\r\n            })\r\n\r\n            .then(response => response.json()\r\n            )\r\n\r\n            .then(json => {\r\n                dispatch(receivePosts(json));\r\n            })\r\n            .catch(reason=>{\r\n                console.log(reason);\r\n                dispatch(receivePosts({Itineraries:[]}));\r\n\r\n            })\r\n    }\r\n}\r\n\r\n//judge whether to fetch data or not\r\nfunction shouldFetchPosts(state) {\r\n    const posts = state.items\r\n    if(!posts.isFetching)\r\n    return true;\r\n    else\r\n    return false;\r\n \r\n}\r\n\r\nexport function fetchPostsIfNeeded(data) {\r\n    return (dispatch, getState) => {\r\n        if (shouldFetchPosts(getState())) {\r\n            data.Time=getState().timeline[getState().currentindex]\r\n            return dispatch(fetchPosts(data))\r\n            \r\n        }\r\n    }\r\n}","\nimport React, { Component } from \"react\";\nimport {\n    Form,  Button, Row, Col,\n} from 'antd';\nimport './Search.css'\nimport { connect } from 'react-redux'\nimport {\n    fetchPostsIfNeeded\n} from '../actions'\n\nclass Searchbars extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        }\n    }\n\n    getFormValue = () => {\n        var formData = this.props.form.getFieldsValue();\n        return formData;\n\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        var fromIATA=\"\";\n        var toIATA=\"\";\n        var regex = /[A-Z]{3}/g;\n        fromIATA = document.getElementById(this.fromInputId).value.match(regex);\n        toIATA = document.getElementById(this.toInputId).value.match(regex);\n        var values = {\"From\":fromIATA,\n    \"To\":toIATA};\n        this.props.onSearchSubmit(values);\n\n    }\n\n    handleSwap = (e) => {\n        e.preventDefault();\n        var departure = document.getElementById(this.fromInputId).value;\n        var arrvie = document.getElementById(this.toInputId).value;\n        if (departure && arrvie)\n        document.getElementById(this.fromInputId).value=arrvie;\n        document.getElementById(this.toInputId).value=departure;\n\n\n\n\n    }\n\n    componentDidMount() {\n    \n        var options = {\n            formatting: `<div class=\"$(unique-result)\"\n                         single-result\" \n                         data-index=\"$(i)\"> \n                       <b>$(IATA)</b> &nbsp $(name) &nbsp $(city), $(country) </div>`\n        };\n        if (this.props.viewIndex === this.props.currentindex) {\n            // eslint-disable-next-line no-undef\n            AirportInput(this.fromInputId, options);\n            // eslint-disable-next-line no-undef\n            AirportInput(this.toInputId, options);\n        }\n    }\n\n\n\n\n\n    render() {\n\n       this.fromInputId = \"fromInputId\" + this.props.viewIndex;\n       this.toInputId = \"toInputId\" + this.props.viewIndex;\n        return (\n            <div>\n            <Form onSubmit={this.handleSubmit}>\n                <Row style={{ width: \"100%\" }}>\n                    <Col xs={22} sm={18} md={21} lg={20} xl={10} >\n                        <Row style={{width:\"100%\"}} >\n                        <input type=\"text\" id={this.fromInputId} className=\"inp inputFlight\" placeholder=\"Flight from\" style={{ width: \"85%\" }}></input>\n                        </Row>\n                    </Col>\n                    <Col xs={2} sm={4} md={2} lg={4} xl={1}>\n                        <Row type=\"flex\" justify=\"start\">\n                            <Form.Item>\n                                <Button shape=\"round\" icon=\"swap\" size=\"large\" onClick={(e) => this.handleSwap(e)}></Button>\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                    <Col xs={22} sm={18} md={21} lg={20} xl={10} >\n                        <Row style={{width:\"100%\"}}>\n                        <input type=\"text\" id={this.toInputId} className=\"inp inputFlight\" placeholder=\"To\" style={{ width: \"85%\" }}></input>\n                        </Row>\n                    </Col>\n                    <Col xs={24} sm={6} md={24} lg={24} xl={3} >\n                        <Row  >\n                            <Form.Item >\n                                <Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon=\"right-circle\" >Submit</Button>\n                            </Form.Item>\n                        </Row>\n                    </Col>\n                </Row>\n            </Form>\n         \n            </div>\n        );\n    }\n}\nconst Searchbar = Form.create({ name: 'FlightSearch' })(Searchbars);\n\n\nconst mapDispatchToProps = (dispatch) => ({\n    onSearchSubmit: (data) => dispatch(fetchPostsIfNeeded(data))\n})\n\nfunction mapStateToProps(state) {\n    const { currentindex } = state\n\n    return {\n        currentindex\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Searchbar)\n\n\n\n\n\n","import React, { Component } from 'react';\nimport { Icon, Button, Col,List } from 'antd';\nimport \"./SideView.css\"\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n\nclass SideView extends Component {\n    constructor(props){\n        super(props);\n        this.deleteFlight = this.deleteFlight.bind(this);\n     }\n    state = {\n    }\n\n    deleteFlight = ( e,flightNumber) => {\n       e.preventDefault();  \n        function checkPoint(element) {\n            return element.FlightNumbers ===flightNumber;\n          }\n          var [...currentSavedFlight] = this.props.savedFlight;\n          var index = this.props.currentindex;\n    \n          if (this.props.savedFlight[this.props.currentindex].find(item => item.FlightNumbers === flightNumber)) {\n    \n            var currentArray = this.props.savedFlight[this.props.currentindex];\n            let i = currentArray.findIndex(checkPoint);\n            currentSavedFlight[index].splice(i, 1);\n          }\n    \n          this.props.deleteFlight(currentSavedFlight);\n\n    }\n    handleClick = (e,key) => {\n        e.preventDefault();\n        var index = this.props.currentindex\n        //Notice: here to use [...] to deep copy the array;\n        var [...newUI] = this.props.UI\n        if (newUI[index] !== \"Startview\") {\n\n            switch (key) {\n                case \"sub1\":\n\n                    newUI[index] = \"Search\"\n                    this.props.changePlan(newUI)\n                    break;\n                case \"sub2\":\n                    newUI[index] = \"Map\"\n                    this.props.changePlan(newUI)\n                    break;\n                case \"sub3\":\n                    this.props.changeView(\"printoutView\")\n                    break;\n                default:\n            }\n\n        }\n    }\n    render() {\n        if (this.props.savedPoint) {\n            if (this.props.savedFlight[this.props.currentindex] && this.props.savedFlight[this.props.currentindex].length > 0)\n                var sidePointList = this.props.savedPoint[this.props.currentindex].map((point, i) => {\n                    if (i === 0) { return null; }\n                    return (<List.Item key={i} className = 'list' >{point.title}</List.Item>)\n                });\n        }\n        if (this.props.savedFlight) {\n            if (this.props.savedFlight[this.props.currentindex])\n                var sideFlightList = this.props.savedFlight[this.props.currentindex].map((flight, i) => {\n                    if (i === 0) { return null; }\n                    return (<List.Item key={i} className = 'list'>\n                            <Col span ={4}></Col>\n                            <Col span={16}>\n                            {flight.CarriersName + \"  \" + flight.FlightNumbers}</Col>\n                            <Col span = {4} >\n                            <Button shape=\"circle\"onClick={e=>  this.deleteFlight(e, flight.FlightNumbers) } ><Col span={22}><Icon type=\"minus\"  /></Col></Button>\n                            </Col>\n                    </List.Item>)\n                });\n        }\n\n        return (\n            <div>\n                <span><Button key=\"sub1\" size='large' block onClick={e=> this.handleClick(e,'sub1')}>\n            <Icon type=\"rocket\" style={{marginRight:'1%'}} /> Add Flight Tickets</Button>\n            {sideFlightList}\n            </span>\n            <span><Button key=\"sub2\" size='large' block onClick={e=> this.handleClick(e,'sub2')}>\n            <Icon type=\"environment\" style={{marginRight:'1%'}} /> Mark Spots in Map</Button>\n            {sidePointList}\n            </span>\n            <span>\n            <Button key=\"sub3\" size='large' block onClick={e=> this.handleClick(e,'sub3')}>\n            <Icon type=\"export\" style={{marginRight:'1%'}} /> Save my plan</Button>\n            </span>\n            <span>\n            <Link to=\"/App\">\n            <Button  size='large'  block>\n            <Icon type=\"edit\" style={{marginRight:'1%', paddingTop:'2%'}} /> Edit my timeline</Button></Link>\n            </span>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        timeline: state.timeline,\n        currentindex: state.currentindex,\n        UI: state.UI,\n        savedPoint: state.savedPoint,\n        savedFlight: state.savedFlight\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        changePlan: (value) => {\n            const action = { type: \"CHANGE_PLAN\", payload: value };\n            dispatch(action);\n        },\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n        },\n        deleteFlight: (value) => {\n            const action = { type: \"DELETE_FLIGHT\", payload: value };\n            dispatch(action);\n        }\n\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(SideView)\n","import React, { Component } from \"react\";\nimport './Search.css'\nimport ResultList from \"../ResultList/ResultList\";\nimport Searchbar from \"./Searchbar\"\nimport { connect } from 'react-redux'\nimport { Row, Col,Spin } from 'antd'\nimport SideView from \"../Side/SideView\";\n\n\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      top: 0\n    }\n  }\n\n  handleSubmit(formData) {\n\n  }\n\n  render() {\n    const { posts, isFetching, lastUpdated } = this.props\n\n    return (\n      <div>\n        <Row>\n          <Col xs={24} sm={24} md={8} lg={5} xl={4}>\n              <div >\n                <SideView />\n              </div>\n          </Col>\n          <Col xs={24} sm={24} md={1} lg={1} xl={1}>\n          </Col>\n          <Col xs={24} sm={24} md={15} lg={18} xl={18}>\n          \n              <div className=\"searchView\">\n\n                <Searchbar viewIndex={this.props.viewIndex}/>\n              </div>\n            {isFetching && <h2>Loading...</h2>}\n            {isFetching && <Spin size=\"large\" />}\n            {!(posts instanceof Array) && (\n              <div>\n                <ResultList posts={posts} lastTetchTime={lastUpdated} />\n              </div>\n            )}\n      \n          </Col>\n        </Row>\n        \n      </div>\n    )\n  }\n}\nfunction mapStateToProps(state) {\n  const { isFetching, lastUpdated, items: posts } = state || {\n    isFetching: true,\n    items: []\n  }\n\n  return {\n    posts,\n    isFetching,\n    lastUpdated\n  }\n}\n\nexport default connect(mapStateToProps)(Search)\n\n","/* global google */\r\n\r\n\r\nclass ClickEventHandler {\r\n  constructor(map, origin) {\r\n    this.origin = origin;\r\n    this.map = map;\r\n    this.placesService = new google.maps.places.PlacesService(map);\r\n    this.infowindow = new google.maps.InfoWindow({\r\n      maxWidth: 600,\r\n      pixelOffset: new google.maps.Size(0, -40)\r\n    });\r\n    this.infowindowContent = '';\r\n    this.place_icon = '';\r\n    this.place_name = '';\r\n    this.place_address = '';\r\n    this.place_type = '';\r\n    this.place_tel ='';\r\n    this.place_openHour = '';\r\n    this.place_noPlace = document.getElementById(\"place-noPlace\");\r\n    this.place_rate = '';\r\n    this.infowindow.setContent(this.place_noPlace);\r\n\r\n\r\n    this.currentId = 0;\r\n\r\n\r\n    // Listen for clicks on the map.\r\n    this.map.addListener('click', this.handleClick.bind(this));\r\n  }\r\n\r\n  handleClick = function (event) {\r\n    // If the event has a placeId, use it.\r\n    if (event.placeId) {\r\n      this.infowindow.close();\r\n      // Calling e.stop() on the event prevents the default info window from\r\n      // showing.\r\n      // If you call stop here when there is no placeId you will prevent some\r\n      // other map click event handlers from receiving the event.\r\n      event.stop();\r\n      this.currentId = event.placeId;\r\n      this.getPlaceInformation(event.placeId);\r\n\r\n    } else {\r\n      this.infowindowContent.style.display = 'none';\r\n      this.place_noPlace.textContent = \"Not a point of Interest \" + event.latLng;\r\n      this.infowindow.open(this.map);\r\n      this.currentId = 0;\r\n      this.infowindow.setPosition(event.latLng);\r\n    }\r\n  }\r\n\r\n  getPlaceInformation = function (placeId) {\r\n    var me = this;\r\n    this.placesService.getDetails({ placeId: placeId }, function (place, status) {\r\n      if (status === 'OK') {\r\n        me.infowindow.close();\r\n        me.infowindow.setPosition(place.geometry.location);\r\n        me.infowindowContent.style.display = 'inline';\r\n        me.place_icon.style.display = 'inline';\r\n        if (place.photos == null) {\r\n          me.place_icon.src ='https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg';\r\n        }else{\r\n           me.place_icon.src = place.photos[0].getUrl();\r\n        }\r\n        me.place_name.textContent = place.name;\r\n        if (place.types == null) {\r\n          me.place_type.textContent = 'No information available';\r\n\r\n        } else {\r\n          me.place_type.textContent = place.types;\r\n        }\r\n\r\n        if (place.international_phone_number == null) {\r\n          me.place_tel.textContent = 'No information available';\r\n        } else {\r\n          me.place_tel.textContent = place.international_phone_number;\r\n        }\r\n        if (place.opening_hours == null) {\r\n          me.place_openHour.textContent = 'No information available';\r\n        } else {\r\n          me.place_openHour.textContent = place.opening_hours.weekday_text;\r\n\r\n        }\r\n\r\n        if (place.rating === null) {\r\n          me.place_rate.textContent = 'No information available';\r\n        } else {\r\n          me.place_rate.textContent = 'Rate: ' + place.rating + '/5.0';\r\n        }\r\n        me.place_address.textContent = place.formatted_address;\r\n      } else {\r\n        alert(status);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  getCurrentId = function () {\r\n    return this.currentId;\r\n  }\r\n\r\n}\r\n\r\nexport default ClickEventHandler;","import React, { Component } from 'react';\r\nimport { Input, Card, Row, Col, Avatar } from 'antd';\r\nimport \"./MapSearch.css\";\r\nimport { connect } from 'react-redux'\r\nimport ClickEventHandler from \"./ClickEventHandler\"\r\n\r\n/* global google */\r\nclass MapApi extends Component {\r\n  state = {\r\n  }\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.map = React.createRef();\r\n    this.searchInput = React.createRef();\r\n    this.savedPoint = [];\r\n\r\n  }\r\n\r\n  savePoint = (e) => {\r\n    var trigger = true;\r\n    if (this.savedPoint.length <= 1) { trigger = true; }\r\n    else {\r\n      trigger = false;\r\n    }\r\n    var index = this.props.currentindex;\r\n    var [...newSavePoint] = this.props.savedPoint;\r\n    if (trigger) {\r\n       newSavePoint[index] = newSavePoint[index].concat(this.savedPoint);\r\n       if (this.props.savedPoint[index].length > 0) {\r\n        var [...currentSavedPoint] = newSavePoint[index];\r\n        this.savedPoint = currentSavedPoint;\r\n    }\r\n       }\r\n    else { newSavePoint[index] = this.savedPoint; }\r\n\r\n\r\n\r\n    this.props.savePoint(newSavePoint)\r\n\r\n\r\n  }\r\n\r\n  deletePoint = () => {\r\n\r\n    // console.log(\"delete\")\r\n    var [...currentSavedPoint] = this.props.savedPoint;\r\n    var index = this.props.currentindex;\r\n\r\n    currentSavedPoint[index] = this.savedPoint;\r\n    this.props.deletePoint(currentSavedPoint);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n   \r\n   this.initAutocomplete();\r\n    console.log(\"map mount\"+this.props.currentindex)\r\n\r\n\r\n  }\r\n  componentWillMount() {\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col xs={24} sm={6} md={24} lg={10} xl={10} >\r\n            <Input ref={this.searchInput}\r\n              id=\"pac-input\"\r\n              className=\"controls\"\r\n              size=\"large\"\r\n              type=\"text\"\r\n              placeholder='Try to search \"attractions\"'\r\n            />\r\n          </Col>\r\n       \r\n        </Row>\r\n        <Row >\r\n          <Col xs={24} sm={6} md={24} lg={18} xl={18} >\r\n            <div ref={this.map} id=\"map\"></div>\r\n\r\n          </Col>\r\n          <Col xs={24} sm={6} md={24} lg={6} xl={6}>\r\n            <div className=\"infoView\" ref=\"infowindowcontent\" display=\"none\" >\r\n              <Card\r\n                bordered={true}\r\n                extra={<button className=\"ant-btn ant-btn-primary ant-btn-lg ant-btn-background-ghost\" disabled={false} ref=\"addButton\" onClick={this.savePoint} >Add</button>}\r\n                //Place Name\r\n                title={<span ref=\"placename\"></span>}\r\n                headStyle={{ padding: \"0px\", fontSize: \"25px\", position: \"sticky\" }}\r\n                bodyStyle={{ padding: \"0px\" }}\r\n                size=\"small\"\r\n                className=\"cardStyle\"\r\n                //Place Image\r\n                cover={<img ref=\"placeicon\" alt=\"\" src=\"\" style={{ maxHeight: '270px' }} />}\r\n              >\r\n\r\n                <div className=\"colorDiv\" >\r\n                  <p className=\"h4Style\" ref=\"placerate\"></p>\r\n                  <h5 className=\"h4Style\" ref=\"placetype\"> </h5>\r\n                </div>\r\n                <div className=\"div2Style\" >\r\n                  <Row className=\"rowStyle\">\r\n                    <Col span={4}>\r\n                      <Avatar size=\"small\" icon=\"environment\" className=\"avatarStyle\" />  </Col>\r\n                    <Col span={20}>\r\n                      <div ref=\"placeaddress\"></div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row className=\"rowStyle\">\r\n                    <Col span={4}>\r\n                      <Avatar size=\"small\" icon=\"phone\" className=\"avatarStyle\" />  </Col>\r\n                    <Col span={20}>\r\n                      <div ref=\"placetel\"></div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row className=\"rowStyle\">\r\n                    <Col span={4}>\r\n                      <Avatar size=\"small\" icon=\"calendar\" className=\"avatarStyle\" />  </Col>\r\n                    <Col span={20}>\r\n                      <div ref=\"placeopeningHour\" className=\"openHours\"></div>\r\n                    </Col>\r\n\r\n\r\n                  </Row>\r\n\r\n                </div>\r\n                <button className=\"ant-btn ant-btn-block\" disabled={true} ref=\"deleteButton\" > Delete from my plan </button>\r\n              </Card>\r\n\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <span id=\"place-noPlace\"></span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  initAutocomplete() {\r\n    var thisRef = this;\r\n    var map = new google.maps.Map(this.map.current, {\r\n      center: { lat: 59.325, lng: 18.070 },\r\n      zoom: 12,\r\n      mapTypeId: 'roadmap',\r\n    });\r\n\r\n    var clickHandler = new ClickEventHandler(map, { lat: 59.325, lng: 18.070 });\r\n\r\n    clickHandler.infowindowContent = this.refs.infowindowcontent;\r\n    clickHandler.infowindowContent.style.display = \"none\";\r\n    clickHandler.place_icon = this.refs.placeicon;\r\n    clickHandler.place_name = this.refs.placename;\r\n    clickHandler.place_address = this.refs.placeaddress;\r\n    clickHandler.place_type = this.refs.placetype;\r\n    clickHandler.place_tel = this.refs.placetel;\r\n    clickHandler.place_openHour = this.refs.placeopeningHour;\r\n    clickHandler.place_rate = this.refs.placerate;\r\n\r\n\r\n    // Create the search box and link it to the UI element.\r\n    var input = this.searchInput.current.input;\r\n    var searchBox = new google.maps.places.SearchBox(input);\r\n    var addButton = this.refs.addButton;\r\n    var deleteButton = this.refs.deleteButton;\r\n\r\n\r\n    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n\r\n\r\n    // Bias the SearchBox results towards current map's viewport.\r\n    map.addListener('bounds_changed', function () {\r\n      searchBox.setBounds(map.getBounds());\r\n    });\r\n\r\n    var savedMarkers = [];\r\n    var markers = [];\r\n    var currentMarker = {\r\n      id: 0,\r\n      title: 'unknow01',\r\n      address: 'unkown Places01'\r\n    };\r\n   \r\n   //style for saved marker  use as icon:goldstar\r\n   var goldStar = {\r\n    path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',\r\n    fillColor: 'yellow',\r\n    fillOpacity: 0.8,\r\n    scale: 0.05,\r\n    strokeColor: 'gold',\r\n    strokeWeight: 14\r\n  };\r\n\r\n  if (thisRef.props.savedPoint[thisRef.props.viewIndex].length === 1) {\r\n    \r\n  } else {\r\n    thisRef.props.savedPoint[thisRef.props.viewIndex].forEach(element => {\r\n      var marker = new google.maps.Marker({\r\n        id:element.id,\r\n        position: element.position,\r\n        icon:goldStar,\r\n        map:map,\r\n      });\r\n\r\n      marker.addListener('click',function(e){\r\n        setCurrentMarker(marker);\r\n        clickHandler.getPlaceInformation(marker.id);\r\n      });\r\n\r\n      savedMarkers.push(marker);\r\n\r\n    });\r\n  }\r\n  \r\n   \r\n    //place service\r\n    // eslint-disable-next-line no-unused-vars\r\n    var service = new google.maps.places.PlacesService(map);\r\n    // var geocoder = new google.maps.Geocoder();\r\n    addButton.addEventListener('click', function (e) {\r\n      addSeletedMarkers();\r\n      e.preventDefault();\r\n\r\n    });\r\n\r\n    deleteButton.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n      deleteSavedPoint(currentMarker);\r\n\r\n    })\r\n\r\n \r\n\r\n    // Listen for the event fired when the user selects a prediction and retrieve\r\n    // more details for that place.\r\n    searchBox.addListener('places_changed', function () {\r\n      var places = searchBox.getPlaces();\r\n\r\n      if (places.length === 0) {\r\n        return;\r\n      }\r\n\r\n      // Clear out the old markers.\r\n      markers.forEach(function (marker) {\r\n        marker.setMap(null);\r\n      });\r\n      markers = [];\r\n\r\n      // For each place, get the icon, name and location.\r\n      var bounds = new google.maps.LatLngBounds();\r\n      places.forEach(function (place) {\r\n        if (!place.geometry) {\r\n          return;\r\n        }\r\n\r\n        // Create a marker for each place.\r\n        markers.push(new google.maps.Marker({\r\n          map: map,\r\n          id: place.place_id,\r\n          title: place.name,\r\n          address: place.formatted_address,\r\n          animation: google.maps.Animation.DROP,\r\n          position: place.geometry.location\r\n        }));\r\n\r\n        if (place.geometry.viewport) {\r\n          // Only geocodes have viewport.\r\n          bounds.union(place.geometry.viewport);\r\n        } else {\r\n          bounds.extend(place.geometry.location);\r\n        }\r\n\r\n        var lastMarker = markers[markers.length - 1];\r\n        lastMarker.addListener('click', function (event) {\r\n          toggleBounce(lastMarker);\r\n          setCurrentMarker(lastMarker);\r\n          // openInfowindow(lastMarker);\r\n          clickHandler.getPlaceInformation(lastMarker.id);\r\n        });\r\n\r\n      });\r\n\r\n      map.fitBounds(bounds);\r\n    });\r\n\r\n    function toggleBounce(marker) {\r\n      if (marker.getAnimation() !== null) {\r\n        marker.setAnimation(null);\r\n      } else {\r\n        markers.forEach(function (marker) {\r\n          marker.setAnimation(null);\r\n        });\r\n        marker.setAnimation(google.maps.Animation.BOUNCE);\r\n      }\r\n    }\r\n\r\n\r\n    function setCurrentMarker(marker) {\r\n      currentMarker = marker;\r\n      currentMarker.position = marker.position;\r\n      map.panTo(marker.getPosition());\r\n      if (thisRef.props.savedPoint[thisRef.props.viewIndex]) {\r\n        if (thisRef.props.savedPoint[thisRef.props.viewIndex].find(item => item.id === marker.id)) {\r\n          addButton.disabled = true;\r\n          deleteButton.disabled = false;\r\n        }\r\n        else {\r\n          addButton.disabled = false;\r\n          deleteButton.disabled = true;\r\n        }\r\n      }\r\n      else {\r\n        addButton.disabled = false;\r\n        deleteButton.disabled = true;\r\n      }\r\n    }\r\n\r\n   //click add marker\r\n    map.addListener('click', function (e) {\r\n      placeMarker(e.latLng, map);\r\n    });\r\n\r\n\r\n    function placeMarker(latLng, map) {\r\n      markers.forEach(function (marker) {\r\n        marker.setMap(null);\r\n      });\r\n      markers = [];\r\n\r\n      markers.push(new google.maps.Marker({\r\n        id: clickHandler.getCurrentId(),\r\n        map: map,\r\n        position: latLng,\r\n        animation: google.maps.Animation.BOUNCE,\r\n      }));\r\n      setCurrentMarker(markers[0]);\r\n    }\r\n\r\n    function addSeletedMarkers() {\r\n      var lat = currentMarker.position.lat();\r\n      var lng = currentMarker.position.lng();\r\n      var currentSave = {\r\n        id: currentMarker.id,\r\n        title: clickHandler.place_name.textContent,\r\n        address: clickHandler.place_address.textContent,\r\n        position:{\"lat\":lat,\"lng\":lng},\r\n\r\n      }\r\n      if (thisRef.props.savedPoint) {\r\n        if (thisRef.props.savedPoint[thisRef.props.viewIndex].find(item => item.id === currentSave.id)) {\r\n\r\n        }\r\n        else {\r\n          thisRef.savedPoint.push(currentSave);\r\n        }\r\n      }\r\n      else {\r\n        thisRef.savedPoint.push(currentSave);\r\n      }\r\n\r\n      var marker = new google.maps.Marker({\r\n        id: currentMarker.id,\r\n        position: currentMarker.position,\r\n        icon: goldStar,\r\n        map: map,\r\n      });\r\n      marker.addListener('click', function (event) {\r\n        setCurrentMarker(marker);\r\n        markers.forEach(function (marker) {\r\n          marker.setMap(null);\r\n        });\r\n        markers = [];\r\n        clickHandler.getPlaceInformation(marker.id);\r\n\r\n      });\r\n      currentMarker.setMap(null);\r\n      savedMarkers.push(marker);\r\n      setCurrentMarker(marker);\r\n      addButton.disabled = true;\r\n      deleteButton.disabled = false;\r\n\r\n    }\r\n\r\n\r\n\r\n    function deleteSavedPoint(marker) {\r\n\r\n      function checkPoint(element) {\r\n        return element.id === marker.id;\r\n      }\r\n      var [...currentSavedPoint] = thisRef.props.savedPoint;\r\n      var index = thisRef.props.viewIndex;\r\n\r\n      if (thisRef.props.savedPoint[thisRef.props.viewIndex].find(item => item.id === marker.id)) {\r\n\r\n        var currentArray = thisRef.props.savedPoint[thisRef.props.viewIndex];\r\n        let i = currentArray.findIndex(checkPoint);\r\n        savedMarkers.splice(i,1);\r\n        currentSavedPoint[index].splice(i, 1);\r\n        marker.setMap(null);\r\n        addButton.disabled = false;\r\n        deleteButton.disabled = true;\r\n      }\r\n\r\n      thisRef.props.deletePoint(currentSavedPoint);\r\n   \r\n\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const { savedPoint, currentindex } = state\r\n\r\n  return {\r\n    savedPoint,\r\n    currentindex\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    savePoint: (value) => {\r\n      const action = { type: \"SAVE_POINT\", payload: value };\r\n      dispatch(action);\r\n\r\n    },\r\n    deletePoint: (value) => {\r\n      const action = { type: \"DELETE_POINT\", payload: value };\r\n      dispatch(action);\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapApi);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { Row, Col } from 'antd'\r\nimport SideView from \"../Side/SideView\";\r\nimport MapApi from \"./MapApi\"\r\n\r\n\r\n\r\nclass mapView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            top: 0\r\n        }\r\n    }\r\n\r\n    handleSubmit(formData) {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    <Col xs={24} sm={24} md={8} lg={5} xl={4}>\r\n                        <div >\r\n                            <SideView />\r\n                        </div>\r\n                    </Col>\r\n                    <Col xs={24} sm={24} md={1} lg={1} xl={1}>\r\n                    </Col>\r\n                    <Col xs={24} sm={24} md={15} lg={18} xl={19}>\r\n\r\n                        <div>\r\n                            <MapApi viewIndex={this.props.viewIndex}/>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    const { isFetching, lastUpdated, items: posts,currentindex } = state || {\r\n        isFetching: true,\r\n        items: []\r\n    }\r\n\r\n    return {\r\n        posts,\r\n        isFetching,\r\n        lastUpdated,\r\n        currentindex\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(mapView)\r\n\r\n\r\n","\nimport React, {\n  Component\n} from \"react\";\nimport 'antd/dist/antd.css';\nimport './DetailsItem.css';\nimport { Card, Icon, Collapse, Rate } from 'antd';\n\nconst { Meta } = Card;\nconst Panel = Collapse.Panel;\nclass DetailsItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hotel_name:\"XXX Hotel\",\n      hotel_description:\"This is hotel description >>>\"\n\n    }\n  }\n\n\n\n  render() {\n   \n\n    return (\n      <div>\n        <Card\n          style={{width:\"100%\"}} \n          cover={<img alt=\"example\" src=\"https://www3.hilton.com/resources/media/hi/IADMRHF/en_US/img/shared/full_page_image_gallery/main/HH_hotelextdusk_2_675x359_FitToBoxSmallDimensionSmallDimension_Center.jpg\" />}\n        >\n      \n        <Meta\n            title={this.state.hotel_name}\n          />\n        <Rate disabled defaultValue={3} />\n        <Meta\n            description={this.state.hotel_description}\n          />\n        \n         <Collapse\n          bordered={false}\n          expandIcon={({ isActive }) => <Icon type=\"caret-right\" rotate={isActive ? 90 : 0} />}\n        >\n          <Panel header=\"Available Time\" key=\"1\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n          <Panel header=\"Comments\" key=\"2\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n          <Panel header=\"Address\" key=\"3\" className=\"customPanelStyle\">\n            <p></p>\n          </Panel>\n        </Collapse>\n          \n          \n        </Card>       \n      </div>\n\n    );\n  }\n}\n\nexport default DetailsItem;          ","import React, { Component } from 'react';\nimport Search from \"../Search/Search\";\nimport MapView from \"../MapSearch/MapView\";\nimport { Button } from 'antd';\nimport DetailItem from \"../Details/DetailsItem\";\nimport { connect } from \"react-redux\";\n\n\n\nclass ViewSelection extends Component {\n    addPlan = () => {\n        var index = this.props.currentindex\n        var [...newUI]=this.props.UI\n        newUI[index]=\"Search\"\n        this.props.addPlan(newUI)\n\n    }\n    render() {\n    \n        switch (this.props.UI[this.props.currentindex]) {\n            case \"DetailItem\": {\n                return (\n                    <div>\n                        <DetailItem viewIndex={this.props.viewIndex}/>\n                    </div>)\n            }\n            case \"Search\": {\n                return (\n                    <div>\n                       <Search viewIndex={this.props.viewIndex}/>\n                    </div>)\n            }\n            case \"Map\": {\n                return (\n                    <div>\n                        <MapView viewIndex={this.props.viewIndex}/>\n                    </div>)\n            }\n            default:\n                {\n                    return (\n                        <div>\n                            <div>\n                                <Button type=\"primary\" shape=\"round\" icon=\"edit\" size={\"large\"} onClick={this.addPlan}>ADD YOUR PLAN</Button>\n                            </div>\n                        </div>)\n                }\n        }\n    }\n}\nfunction mapStateToProps(state) {\n    const{timeline,currentindex,UI}=state;\n    return {\n        timeline,\n        currentindex,\n        UI\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        addPlan: (value) => {\n            const action = { type: \"ADD_PLAN\", payload: value };\n            dispatch(action);\n        },\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewSelection)\n\n","import React, { Component } from 'react';\nimport { Timeline, Card, PageHeader, Col, Row, Avatar, Divider } from 'antd';\nimport { connect } from \"react-redux\";\nimport \"../ResultList/ResultList.css\"\n\n\nclass PrintoutView extends Component {\n    state = {}\n    render() {\n        const { timeline, savedFlight, savedPoint } = this.props;\n\n        var timeLinePrint = timeline.map((day, i) => {\n            if (savedFlight) {\n                if (savedFlight[i])\n                    var flightsPerDay = savedFlight[i].map((flight, i) => {\n                        if (i === 0)\n                            return null;\n                        return (\n                            <Row key={i} type=\"flex\" align=\"middle\">\n                                <Col xs={13} sm={12} md={2} lg={2} xl={2}>\n                                    <Row type=\"flex\" justify=\"start\">\n                                        <Avatar alt=\"airline\" src={flight.CarriersImg} />\n                                    </Row>\n                                </Col>\n                                <Col xs={11} sm={12} md={5} lg={4} xl={4}>\n                                    <Row type=\"flex\" justify=\"start\" className=\"airLineStyle\">\n                                        <h3 className=\"airLineStyle\">{flight.CarriersName}</h3>\n                                    </Row>\n                                    <Row type=\"flex\" justify=\"start\" >\n                                        {flight.FlightNumbers}\n                                    </Row>\n                                </Col>\n                                <Col xs={24} sm={12} md={6} lg={5} xl={7}>\n                                    <Row type=\"flex\" justify=\"start\">\n                                        <b >{flight.Departure}</b>\n                                    </Row>\n                                    <Row type=\"flex\" justify=\"start\" >\n                                        <b>{flight.OriginStation}</b>\n                                    </Row>\n                                </Col>\n                                <Col xs={24} sm={12} md={5} lg={3} xl={4}>\n                                    <br></br>\n                                    <Row type=\"flex\" justify=\"start\">\n                                        {flight.Duration}\n                                    </Row>\n                                    <br></br>\n                                </Col>\n                                <Col xs={24} sm={12} md={6} lg={5} xl={7}>\n                                    <Row type=\"flex\" justify=\"start\">\n                                        <b >{flight.Arrival}</b>\n                                    </Row>\n                                    <Row type=\"flex\" justify=\"start\">\n                                        <b>{flight.DestinationStation}</b>\n                                    </Row>\n                                </Col>\n                            </Row>\n\n                        )\n                    }\n                    )\n            }\n            if (savedPoint) {\n                if (savedPoint[i])\n                    var pointsPerDay = savedPoint[i].map((point, i) =>\n                    {\n                        if (i === 0)\n                        return null;\n                        return (\n                            <Row key={i}>\n                                <Col xs={24} sm={12} md={8} lg={8} xl={8}>\n                                    <b>{point.title}</b>\n                                </Col>\n                                <Col xs={24} sm={24} md={14} lg={14} xl={14}>\n                                    <p>{point.address}</p>\n                                </Col>\n                            </Row>\n                        )\n            })\n            }\n\n            return (\n                <Timeline.Item key={i}>\n                    <Card\n                        key={i}\n                        title={day}\n                        bordered={false}\n                        style={{ width: \"90%\" }}\n                    >\n                        {flightsPerDay}\n                        <Divider />\n                        {pointsPerDay}\n                    </Card>\n                </Timeline.Item>\n            )\n        })\n\n\n        return (\n            <div>\n                <Col span={2}></Col>\n                <Col span={20}>\n                    <PageHeader\n                        onBack={() => this.props.changeView(\"timeline\")}\n                        title=\"Your personal travel plan\"\n                        subTitle='\"Ctrl+P\" to print your plan'\n                        style={{ textAlign: \"left\" }}\n                    />\n                    <Timeline mode=\"alternate\" >\n                        {timeLinePrint}\n                    </Timeline>\n                </Col>\n                <Col span={2}></Col>\n\n\n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    const { timeline, currentindex, UI, savedFlight, savedPoint } = state;\n    return {\n        timeline,\n        currentindex,\n        UI,\n        savedFlight,\n        savedPoint\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        changeView: (value) => {\n            const action = { type: \"CHANGE_VIEW\", payload: value };\n            dispatch(action);\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrintoutView);","import React, { Component } from 'react';\nimport { Row, Col,Alert } from 'antd';\nimport Timeline from \"../Timeline/Timeline\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { connect } from \"react-redux\";\nimport ViewSelection from \"../ViewSelection/ViewSelection\"\nimport PrintoutView from \"../PrintoutView/PrintoutView\"\n\nclass PlanView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: 0, previous: 0 };\n  }\n  giveContent = () => {\n    \n    var len = this.props.timeline.length;\n    var Content = [];\n    for (var i = 0; i <= len - 1; i++) {\n      Content.push({ date: this.props.timeline[i], content: <ViewSelection UI={this.props.UI[i]} viewIndex={i}/> });\n    }\n    return Content;\n \n  }\n\n  componentWillMount() {\n    if(this.props.timeline&&this.props.timeline.length>0)\n    {\n    this.data = this.giveContent().map((view, index) => {\n      return ({\n        date: view.date,\n        component: (\n          <div key={index}>\n            {view.content}\n          </div>\n        )\n      });\n    });\n  }\n  }\n  componentWillReceiveProps(nextProps) {\n    if(this.props.timeline&&this.props.timeline.length>0)\n    {\n    if (nextProps !== this.props) {\n      this.data = this.giveContent().map((view, index) => {\n        return ({\n          date: view.date,\n          component: (\n            <div key={index}>\n              {view.content}\n            </div>\n          )\n        });\n      });\n    }\n  }\n  }\n  render() {\n    var mainView;\n    if(this.props.timeline.length>0)\n    {\n    switch (this.props.currentView) {\n      case \"timeline\": {\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <Timeline content={this.data} />\n            </Col>\n          </Row>\n        )\n        break;\n      }\n      case \"printoutView\": {\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <PrintoutView />\n            </Col>\n          </Row>)\n          break;\n      }\n      default:{\n        mainView = (\n          <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n              <Timeline content={this.data} />\n            </Col>\n          </Row>\n        )\n      }\n    }\n  }\n  else mainView=(   <Alert\n    message=\"There is no timeline now\"\n    description=\"Please create your timeline first and save it\"\n    type=\"info\"\n  />)\n        \n        return (\n          <div>\n    \n\n            <Navbar />\n\n\n            {mainView}\n\n\n          </div>\n        );\n    }\n  }\n\n\n\nfunction mapStateToProps(state) {\n  return {\n\n    timeline: state.timeline,\n    UI: state.UI,\n    currentindex: state.currentindex,\n    currentView: state.currentView\n  }\n}\n\nexport default connect(mapStateToProps)(PlanView)\n","import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nexport function updateState(uid, state) {\r\n    // A post entry.\r\n    var newState = {\r\n      \r\n      uid: uid,\r\n      state:state\r\n    };\r\n    var updates = {};\r\n    updates['/state/' ] = newState;\r\n    updates['/user-state/' + uid] = newState;\r\n  \r\n    return firebase.database().ref().update(updates);\r\n  }\r\n\r\n  export function writeUserData(userId, email) {\r\n    firebase.database().ref('users/' + userId).set({\r\n\r\n      email: email\r\n\r\n    });\r\n  }\r\n\r\n  export var currentUID;\r\n\r\n  export function onAuthStateChanged(user) {\r\n    // We ignore token refresh events.\r\n    if (user && currentUID === user.uid) {\r\n      return;\r\n    }\r\n    if (user) {\r\n      currentUID = user.uid;\r\n   \r\n      writeUserData(user.uid, user.email);\r\n    } else {\r\n      currentUID = null;\r\n    }\r\n  }\r\n  window.addEventListener('load', function() {\r\n\r\n    firebase.auth().onAuthStateChanged(onAuthStateChanged);\r\n\r\n  }, false);\r\n","class Auth {\n  constructor() {\n    this.authenticated = false;\n  }\n\n  login(cb) {\n    this.authenticated = true;\n    cb();\n  }\n\n  logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n}\n\nexport default new Auth();\n","import auth from \"../auth\";\nimport React, { Component } from \"react\";\nimport './SignIn.css'\nimport { Link } from 'react-router-dom';\nimport firebase from 'firebase/app'\nimport {onAuthStateChanged} from \"../Firebase/FirebaseTool\"\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: null,\n      password: null,\n      formErrors: {\n        email: \"\",\n        password: \"\"\n      },\n      errormessage:\"\"\n    };\n  }\n  \n  handleSubmit = e => {\n    e.preventDefault();\n    const email=this.state.email;\n    const password=this.state.password;\n    const auths =firebase.auth();\n    const promise= auths.signInWithEmailAndPassword(email,password);\n\n    promise.then(()=>{auth.login(() => {\n      this.props.history.push(\"/app\");\n    });}).catch(e =>this.setState({ errormessage: e.message }));\n    \n    if (formValid(this.state)) {\n      firebase.auth().onAuthStateChanged(onAuthStateChanged);\n      \n    } else {\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  };\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"invalid email address\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, () => {});\n  };\n  render() {\n    const { formErrors } = this.state;\n\n    return (\n\n      <div>\n        <div className=\"wrapper\">\n          <div className=\"form-wrapper\">\n            <h1>SignIn</h1>\n            <form onSubmit={this.handleSubmit} noValidate>\n              <div className=\"email\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  className={formErrors.email.length > 0 ? \"error\" : null}\n                  placeholder=\"Email\"\n                  type=\"email\"\n                  name=\"email\"\n                  noValidate\n                  onChange={this.handleChange}\n                />\n                {formErrors.email.length > 0 && (\n                  <span className=\"errorMessage\">{formErrors.email}</span>\n                )}\n              </div>\n              <div className=\"password\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  className={formErrors.password.length > 0 ? \"error\" : null}\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  name=\"password\"\n                  noValidate\n                  onChange={this.handleChange}\n                />\n                {formErrors.password.length > 0 && (\n                  <span className=\"errorMessage\">{formErrors.password}</span>\n                )}\n              </div>\n              <div className=\"createAccount\">\n                <button type=\"submit\" >Sign In</button>\n                <div>{this.state.errormessage}</div>\n                <Link to=\"/SignUp\" className=\"FormField__Link\">Create an account</Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default SignIn;\n","import React, { Component } from \"react\";\nimport \"./Signup.css\";\nimport { Link } from 'react-router-dom';\nimport firebase from 'firebase/app';\nimport auth from \"../auth\";\n\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      formErrors: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        validpassword: \"\",\n      },\n      errormessage:\"\",\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const email = this.state.email;\n    const password = this.state.password;\n    const auths = firebase.auth();\n    const promise = auths.createUserWithEmailAndPassword(email, password);\n\n    promise.then(() => {\n      auth.login(() => {\n        this.props.history.push(\"/\");\n      });\n    }).catch(e =>this.setState({ errormessage: e.message })\n    );\n\n    firebase.auth().onAuthStateChanged(firebaseuser => {\n\n    })\n    if (formValid(this.state)) {\n    } else {\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  };\n\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"firstName\":\n        formErrors.firstName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"lastName\":\n        formErrors.lastName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"invalid email address\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        this.setState({ thepassword: value })\n        break;\n      case \"validpassword\":\n        formErrors.validpassword =\n          value !== this.state.thepassword ? \"please enter the same password\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value });\n  };\n\n  render() {\n    const { formErrors } = this.state;\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form-wrapper\">\n          <h1>Create Account</h1>\n          <form onSubmit={this.handleSubmit} noValidate>\n            <div className=\"firstName\">\n              <label htmlFor=\"firstName\">First Name</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"First Name\"\n                type=\"text\"\n                name=\"firstName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.firstName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.firstName}</span>\n              )}\n            </div>\n            <div className=\"lastName\">\n              <label htmlFor=\"lastName\">Last Name</label>\n              <input\n                className={formErrors.lastName.length > 0 ? \"error\" : null}\n                placeholder=\"Last Name\"\n                type=\"text\"\n                name=\"lastName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.lastName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.lastName}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                className={formErrors.email.length > 0 ? \"error\" : null}\n                placeholder=\"Email\"\n                type=\"email\"\n                name=\"email\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.email.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.email}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                className={formErrors.password.length > 0 ? \"error\" : null}\n                placeholder=\"Password\"\n                type=\"password\"\n                name=\"password\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.password.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.password}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"valid password\">Valid Password</label>\n              <input\n                className={formErrors.validpassword.length > 0 ? \"error\" : null}\n                placeholder=\"valid password\"\n                type=\"validpassword\"\n                name=\"validpassword\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.password.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.validpassword}</span>\n              )}\n            </div>\n            <div className=\"createAccount\">\n              <button type=\"submit\">Create Account</button>\n              <div>{this.state.errormessage}</div>\n              <Link to=\"/\" className=\"FormField__Link\">Already Have an Account?</Link>\n            </div>\n\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport auth from \"./auth\";\n\nexport const ProtectedRoute = ({\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (auth.isAuthenticated()) {\n          return <Component {...props} />;\n        } else {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: {\n                  from: props.location\n                }\n              }}\n            />\n          );\n        }\n      }}\n    />\n  );\n};\n","import { updateState, currentUID } from \"./Firebase/FirebaseTool\"\n\n\n\nconst initialstate = {\n  departuredate: 'yessss',\n  returndate: 'nooooo',\n  departureplace: 'beijing',\n  currentindex: 0,\n  isFetching: false,\n  items: [],\n  currentView: \"timeline\",\n  savedPoint: [],\n  savedFlight: [],\n  timeline: []\n}\n\n\n\n\n\nexport default function Datereducer(state = initialstate, action) {\n  switch (action.type) {\n    case \"ON_CHANGE_DEPARTURE\":\n      return Object.assign({}, state, { departuredate: action.payload })\n    case \"ON_CHANGE_RETURN\":\n      return Object.assign({}, state, { returndate: action.payload })\n    case \"GENERATE_TIME_LINE\":\n      updateState(currentUID, Object.assign({}, state, { timeline: action.timeline, UI: action.UI, savedPoint: action.savedPoint, savedFlight: action.savedFlight }))\n\n      return Object.assign({}, state, { timeline: action.timeline, UI: action.UI, savedPoint: action.savedPoint, savedFlight: action.savedFlight })\n    case \"TIMELINE_CLICK\":\n      return Object.assign({}, state, { currentindex: action.payload })\n    case \"ADD_PLAN\":\n      return Object.assign({}, state, { UI: action.payload })\n    case \"CHANGE_PLAN\":\n      return Object.assign({}, state, { UI: action.payload })\n    case \"CHANGE_VIEW\":\n      return Object.assign({}, state, { currentView: action.payload })\n    case \"SAVE_POINT\":\n      updateState(currentUID, Object.assign({}, state, { savedPoint: action.payload }))\n\n      return Object.assign({}, state, { savedPoint: action.payload })\n    case \"DELETE_POINT\":\n      updateState(currentUID, Object.assign({}, state, { savedPoint: action.payload }))\n      return Object.assign({}, state, { savedPoint: action.payload })\n\n    case \"DELETE_FLIGHT\":\n      updateState(currentUID, Object.assign({}, state, { savedFlight: action.payload }))\n      return Object.assign({}, state, { savedFlight: action.payload })\n\n    case \"SAVE_FLIGHT\":\n      updateState(currentUID, Object.assign({}, state, { savedFlight: action.payload }))\n      return Object.assign({}, state, { savedFlight: action.payload })\n    case \"REQUEST_POSTS\":\n      return Object.assign({}, state, {\n        isFetching: true,\n      })\n    case \"RECEIVE_POSTS\":\n      return Object.assign({}, state, {\n        isFetching: false,\n        items: action.posts,\n        lastUpdated: action.receivedAt\n      })\n\n\n    case \"GET_DATA\":\n\n\n      return Object.assign({}, action.payload)\n\n    default:\n      return state;\n  }\n\n}\n\n\n","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from './reducer'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nexport default function configureStore(preloadedState) {\r\n  return createStore(\r\n    rootReducer,\r\n    preloadedState,\r\n    applyMiddleware(thunkMiddleware, loggerMiddleware)\r\n  )\r\n}","\nimport configureStore from \"./ConfigureStore\"\n\nconst store = configureStore()\n\nexport default store;\n\n\n\n","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Welcome from \"./Welcome/Welcome\";\nimport PlanView from \"./PlanView/PlanView\";\nimport SignIn from \"./SignIn/SignIn\";\nimport SignUp from \"./Signup/Signup\";\nimport { ProtectedRoute } from \"./protected.route\";\n\nimport './App.css';\nimport store from \"./store\";\nimport { Provider } from 'react-redux'\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n      <div className=\"App\">\n        <header>\n         \n        </header>\n     \n        <Switch>\n            <Route exact path=\"/\" component={SignIn} />\n            <Route exact path=\"/SignUp\" component={SignUp} />\n            <ProtectedRoute exact path=\"/app\" component={Welcome} />\n            <Route exact path = \"/PlanView\" component={PlanView} /> \n            <Route path=\"*\" component={() => \"404 NOT FOUND\"} />\n          </Switch>\n\n      </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport'firebase/database'\n\nvar config = {\n  apiKey: \"AIzaSyBhzhhGWi1TLDQyl8dyDOhR6WIG-BRcYKc\",\n  authDomain: \"travelplanner-web.firebaseapp.com\",\n  databaseURL: \"https://travelplanner-web.firebaseio.com\",\n  projectId: \"travelplanner-web\",\n  storageBucket: \"travelplanner-web.appspot.com\",\n  messagingSenderId: \"148373620558\"\n};\n  firebase.initializeApp(config);\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById('root'));\n\n    \n"],"sourceRoot":""}